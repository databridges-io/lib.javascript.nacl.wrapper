{"version":3,"file":"databridges.nacl.wrapper.min.js","sources":["../node_modules/rollup-plugin-node-polyfills/polyfills/empty.js","../src/nacl.js","../src/nacl-util.js","../src/databridges.nacl.wrapper.js"],"sourcesContent":["export default {};\n","(function(nacl) {\n'use strict';\n\n// Ported in 2014 by Dmitry Chestnykh and Devi Mandiri.\n// Public domain.\n//\n// Implementation derived from TweetNaCl version 20140427.\n// See for details: http://tweetnacl.cr.yp.to/\n\nvar u64 = function(h, l) { this.hi = h|0 >>> 0; this.lo = l|0 >>> 0; };\nvar gf = function(init) {\n  var i, r = new Float64Array(16);\n  if (init) for (i = 0; i < init.length; i++) r[i] = init[i];\n  return r;\n};\n\n//  Pluggable, initialized in high-level API below.\nvar randombytes = function(/* x, n */) { throw new Error('no PRNG'); };\n\nvar _0 = new Uint8Array(16);\nvar _9 = new Uint8Array(32); _9[0] = 9;\n\nvar gf0 = gf(),\n    gf1 = gf([1]),\n    _121665 = gf([0xdb41, 1]),\n    D = gf([0x78a3, 0x1359, 0x4dca, 0x75eb, 0xd8ab, 0x4141, 0x0a4d, 0x0070, 0xe898, 0x7779, 0x4079, 0x8cc7, 0xfe73, 0x2b6f, 0x6cee, 0x5203]),\n    D2 = gf([0xf159, 0x26b2, 0x9b94, 0xebd6, 0xb156, 0x8283, 0x149a, 0x00e0, 0xd130, 0xeef3, 0x80f2, 0x198e, 0xfce7, 0x56df, 0xd9dc, 0x2406]),\n    X = gf([0xd51a, 0x8f25, 0x2d60, 0xc956, 0xa7b2, 0x9525, 0xc760, 0x692c, 0xdc5c, 0xfdd6, 0xe231, 0xc0a4, 0x53fe, 0xcd6e, 0x36d3, 0x2169]),\n    Y = gf([0x6658, 0x6666, 0x6666, 0x6666, 0x6666, 0x6666, 0x6666, 0x6666, 0x6666, 0x6666, 0x6666, 0x6666, 0x6666, 0x6666, 0x6666, 0x6666]),\n    I = gf([0xa0b0, 0x4a0e, 0x1b27, 0xc4ee, 0xe478, 0xad2f, 0x1806, 0x2f43, 0xd7a7, 0x3dfb, 0x0099, 0x2b4d, 0xdf0b, 0x4fc1, 0x2480, 0x2b83]);\n\nfunction L32(x, c) { return (x << c) | (x >>> (32 - c)); }\n\nfunction ld32(x, i) {\n  var u = x[i+3] & 0xff;\n  u = (u<<8)|(x[i+2] & 0xff);\n  u = (u<<8)|(x[i+1] & 0xff);\n  return (u<<8)|(x[i+0] & 0xff);\n}\n\nfunction dl64(x, i) {\n  var h = (x[i] << 24) | (x[i+1] << 16) | (x[i+2] << 8) | x[i+3];\n  var l = (x[i+4] << 24) | (x[i+5] << 16) | (x[i+6] << 8) | x[i+7];\n  return new u64(h, l);\n}\n\nfunction st32(x, j, u) {\n  var i;\n  for (i = 0; i < 4; i++) { x[j+i] = u & 255; u >>>= 8; }\n}\n\nfunction ts64(x, i, u) {\n  x[i]   = (u.hi >> 24) & 0xff;\n  x[i+1] = (u.hi >> 16) & 0xff;\n  x[i+2] = (u.hi >>  8) & 0xff;\n  x[i+3] = u.hi & 0xff;\n  x[i+4] = (u.lo >> 24)  & 0xff;\n  x[i+5] = (u.lo >> 16)  & 0xff;\n  x[i+6] = (u.lo >>  8)  & 0xff;\n  x[i+7] = u.lo & 0xff;\n}\n\nfunction vn(x, xi, y, yi, n) {\n  var i,d = 0;\n  for (i = 0; i < n; i++) d |= x[xi+i]^y[yi+i];\n  return (1 & ((d - 1) >>> 8)) - 1;\n}\n\nfunction crypto_verify_16(x, xi, y, yi) {\n  return vn(x,xi,y,yi,16);\n}\n\nfunction crypto_verify_32(x, xi, y, yi) {\n  return vn(x,xi,y,yi,32);\n}\n\nfunction core(out,inp,k,c,h) {\n  var w = new Uint32Array(16), x = new Uint32Array(16),\n      y = new Uint32Array(16), t = new Uint32Array(4);\n  var i, j, m;\n\n  for (i = 0; i < 4; i++) {\n    x[5*i] = ld32(c, 4*i);\n    x[1+i] = ld32(k, 4*i);\n    x[6+i] = ld32(inp, 4*i);\n    x[11+i] = ld32(k, 16+4*i);\n  }\n\n  for (i = 0; i < 16; i++) y[i] = x[i];\n\n  for (i = 0; i < 20; i++) {\n    for (j = 0; j < 4; j++) {\n      for (m = 0; m < 4; m++) t[m] = x[(5*j+4*m)%16];\n      t[1] ^= L32((t[0]+t[3])|0, 7);\n      t[2] ^= L32((t[1]+t[0])|0, 9);\n      t[3] ^= L32((t[2]+t[1])|0,13);\n      t[0] ^= L32((t[3]+t[2])|0,18);\n      for (m = 0; m < 4; m++) w[4*j+(j+m)%4] = t[m];\n    }\n    for (m = 0; m < 16; m++) x[m] = w[m];\n  }\n\n  if (h) {\n    for (i = 0; i < 16; i++) x[i] = (x[i] + y[i]) | 0;\n    for (i = 0; i < 4; i++) {\n      x[5*i] = (x[5*i] - ld32(c, 4*i)) | 0;\n      x[6+i] = (x[6+i] - ld32(inp, 4*i)) | 0;\n    }\n    for (i = 0; i < 4; i++) {\n      st32(out,4*i,x[5*i]);\n      st32(out,16+4*i,x[6+i]);\n    }\n  } else {\n    for (i = 0; i < 16; i++) st32(out, 4 * i, (x[i] + y[i]) | 0);\n  }\n}\n\nfunction crypto_core_salsa20(out,inp,k,c) {\n  core(out,inp,k,c,false);\n  return 0;\n}\n\nfunction crypto_core_hsalsa20(out,inp,k,c) {\n  core(out,inp,k,c,true);\n  return 0;\n}\n\nvar sigma = new Uint8Array([101, 120, 112, 97, 110, 100, 32, 51, 50, 45, 98, 121, 116, 101, 32, 107]);\n            // \"expand 32-byte k\"\n\nfunction crypto_stream_salsa20_xor(c,cpos,m,mpos,b,n,k) {\n  var z = new Uint8Array(16), x = new Uint8Array(64);\n  var u, i;\n  if (!b) return 0;\n  for (i = 0; i < 16; i++) z[i] = 0;\n  for (i = 0; i < 8; i++) z[i] = n[i];\n  while (b >= 64) {\n    crypto_core_salsa20(x,z,k,sigma);\n    for (i = 0; i < 64; i++) c[cpos+i] = (m?m[mpos+i]:0) ^ x[i];\n    u = 1;\n    for (i = 8; i < 16; i++) {\n      u = u + (z[i] & 0xff) | 0;\n      z[i] = u & 0xff;\n      u >>>= 8;\n    }\n    b -= 64;\n    cpos += 64;\n    if (m) mpos += 64;\n  }\n  if (b > 0) {\n    crypto_core_salsa20(x,z,k,sigma);\n    for (i = 0; i < b; i++) c[cpos+i] = (m?m[mpos+i]:0) ^ x[i];\n  }\n  return 0;\n}\n\nfunction crypto_stream_salsa20(c,cpos,d,n,k) {\n  return crypto_stream_salsa20_xor(c,cpos,null,0,d,n,k);\n}\n\nfunction crypto_stream(c,cpos,d,n,k) {\n  var s = new Uint8Array(32);\n  crypto_core_hsalsa20(s,n,k,sigma);\n  return crypto_stream_salsa20(c,cpos,d,n.subarray(16),s);\n}\n\nfunction crypto_stream_xor(c,cpos,m,mpos,d,n,k) {\n  var s = new Uint8Array(32);\n  crypto_core_hsalsa20(s,n,k,sigma);\n  return crypto_stream_salsa20_xor(c,cpos,m,mpos,d,n.subarray(16),s);\n}\n\nfunction add1305(h, c) {\n  var j, u = 0;\n  for (j = 0; j < 17; j++) {\n    u = (u + ((h[j] + c[j]) | 0)) | 0;\n    h[j] = u & 255;\n    u >>>= 8;\n  }\n}\n\nvar minusp = new Uint32Array([\n  5, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 252\n]);\n\nfunction crypto_onetimeauth(out, outpos, m, mpos, n, k) {\n  var s, i, j, u;\n  var x = new Uint32Array(17), r = new Uint32Array(17),\n      h = new Uint32Array(17), c = new Uint32Array(17),\n      g = new Uint32Array(17);\n  for (j = 0; j < 17; j++) r[j]=h[j]=0;\n  for (j = 0; j < 16; j++) r[j]=k[j];\n  r[3]&=15;\n  r[4]&=252;\n  r[7]&=15;\n  r[8]&=252;\n  r[11]&=15;\n  r[12]&=252;\n  r[15]&=15;\n\n  while (n > 0) {\n    for (j = 0; j < 17; j++) c[j] = 0;\n    for (j = 0; (j < 16) && (j < n); ++j) c[j] = m[mpos+j];\n    c[j] = 1;\n    mpos += j; n -= j;\n    add1305(h,c);\n    for (i = 0; i < 17; i++) {\n      x[i] = 0;\n      for (j = 0; j < 17; j++) x[i] = (x[i] + (h[j] * ((j <= i) ? r[i - j] : ((320 * r[i + 17 - j])|0))) | 0) | 0;\n    }\n    for (i = 0; i < 17; i++) h[i] = x[i];\n    u = 0;\n    for (j = 0; j < 16; j++) {\n      u = (u + h[j]) | 0;\n      h[j] = u & 255;\n      u >>>= 8;\n    }\n    u = (u + h[16]) | 0; h[16] = u & 3;\n    u = (5 * (u >>> 2)) | 0;\n    for (j = 0; j < 16; j++) {\n      u = (u + h[j]) | 0;\n      h[j] = u & 255;\n      u >>>= 8;\n    }\n    u = (u + h[16]) | 0; h[16] = u;\n  }\n\n  for (j = 0; j < 17; j++) g[j] = h[j];\n  add1305(h,minusp);\n  s = (-(h[16] >>> 7) | 0);\n  for (j = 0; j < 17; j++) h[j] ^= s & (g[j] ^ h[j]);\n\n  for (j = 0; j < 16; j++) c[j] = k[j + 16];\n  c[16] = 0;\n  add1305(h,c);\n  for (j = 0; j < 16; j++) out[outpos+j] = h[j];\n  return 0;\n}\n\nfunction crypto_onetimeauth_verify(h, hpos, m, mpos, n, k) {\n  var x = new Uint8Array(16);\n  crypto_onetimeauth(x,0,m,mpos,n,k);\n  return crypto_verify_16(h,hpos,x,0);\n}\n\nfunction crypto_secretbox(c,m,d,n,k) {\n  var i;\n  if (d < 32) return -1;\n  crypto_stream_xor(c,0,m,0,d,n,k);\n  crypto_onetimeauth(c, 16, c, 32, d - 32, c);\n  for (i = 0; i < 16; i++) c[i] = 0;\n  return 0;\n}\n\nfunction crypto_secretbox_open(m,c,d,n,k) {\n  var i;\n  var x = new Uint8Array(32);\n  if (d < 32) return -1;\n  crypto_stream(x,0,32,n,k);\n  if (crypto_onetimeauth_verify(c, 16,c, 32,d - 32,x) !== 0) return -1;\n  crypto_stream_xor(m,0,c,0,d,n,k);\n  for (i = 0; i < 32; i++) m[i] = 0;\n  return 0;\n}\n\nfunction set25519(r, a) {\n  var i;\n  for (i = 0; i < 16; i++) r[i] = a[i]|0;\n}\n\nfunction car25519(o) {\n  var c;\n  var i;\n  for (i = 0; i < 16; i++) {\n      o[i] += 65536;\n      c = Math.floor(o[i] / 65536);\n      o[(i+1)*(i<15?1:0)] += c - 1 + 37 * (c-1) * (i===15?1:0);\n      o[i] -= (c * 65536);\n  }\n}\n\nfunction sel25519(p, q, b) {\n  var t, c = ~(b-1);\n  for (var i = 0; i < 16; i++) {\n    t = c & (p[i] ^ q[i]);\n    p[i] ^= t;\n    q[i] ^= t;\n  }\n}\n\nfunction pack25519(o, n) {\n  var i, j, b;\n  var m = gf(), t = gf();\n  for (i = 0; i < 16; i++) t[i] = n[i];\n  car25519(t);\n  car25519(t);\n  car25519(t);\n  for (j = 0; j < 2; j++) {\n    m[0] = t[0] - 0xffed;\n    for (i = 1; i < 15; i++) {\n      m[i] = t[i] - 0xffff - ((m[i-1]>>16) & 1);\n      m[i-1] &= 0xffff;\n    }\n    m[15] = t[15] - 0x7fff - ((m[14]>>16) & 1);\n    b = (m[15]>>16) & 1;\n    m[14] &= 0xffff;\n    sel25519(t, m, 1-b);\n  }\n  for (i = 0; i < 16; i++) {\n    o[2*i] = t[i] & 0xff;\n    o[2*i+1] = t[i]>>8;\n  }\n}\n\nfunction neq25519(a, b) {\n  var c = new Uint8Array(32), d = new Uint8Array(32);\n  pack25519(c, a);\n  pack25519(d, b);\n  return crypto_verify_32(c, 0, d, 0);\n}\n\nfunction par25519(a) {\n  var d = new Uint8Array(32);\n  pack25519(d, a);\n  return d[0] & 1;\n}\n\nfunction unpack25519(o, n) {\n  var i;\n  for (i = 0; i < 16; i++) o[i] = n[2*i] + (n[2*i+1] << 8);\n  o[15] &= 0x7fff;\n}\n\nfunction A(o, a, b) {\n  var i;\n  for (i = 0; i < 16; i++) o[i] = (a[i] + b[i])|0;\n}\n\nfunction Z(o, a, b) {\n  var i;\n  for (i = 0; i < 16; i++) o[i] = (a[i] - b[i])|0;\n}\n\nfunction M(o, a, b) {\n  var i, j, t = new Float64Array(31);\n  for (i = 0; i < 31; i++) t[i] = 0;\n  for (i = 0; i < 16; i++) {\n    for (j = 0; j < 16; j++) {\n      t[i+j] += a[i] * b[j];\n    }\n  }\n  for (i = 0; i < 15; i++) {\n    t[i] += 38 * t[i+16];\n  }\n  for (i = 0; i < 16; i++) o[i] = t[i];\n  car25519(o);\n  car25519(o);\n}\n\nfunction S(o, a) {\n  M(o, a, a);\n}\n\nfunction inv25519(o, i) {\n  var c = gf();\n  var a;\n  for (a = 0; a < 16; a++) c[a] = i[a];\n  for (a = 253; a >= 0; a--) {\n    S(c, c);\n    if(a !== 2 && a !== 4) M(c, c, i);\n  }\n  for (a = 0; a < 16; a++) o[a] = c[a];\n}\n\nfunction pow2523(o, i) {\n  var c = gf();\n  var a;\n  for (a = 0; a < 16; a++) c[a] = i[a];\n  for (a = 250; a >= 0; a--) {\n      S(c, c);\n      if(a !== 1) M(c, c, i);\n  }\n  for (a = 0; a < 16; a++) o[a] = c[a];\n}\n\nfunction crypto_scalarmult(q, n, p) {\n  var z = new Uint8Array(32);\n  var x = new Float64Array(80), r, i;\n  var a = gf(), b = gf(), c = gf(),\n      d = gf(), e = gf(), f = gf();\n  for (i = 0; i < 31; i++) z[i] = n[i];\n  z[31]=(n[31]&127)|64;\n  z[0]&=248;\n  unpack25519(x,p);\n  for (i = 0; i < 16; i++) {\n    b[i]=x[i];\n    d[i]=a[i]=c[i]=0;\n  }\n  a[0]=d[0]=1;\n  for (i=254; i>=0; --i) {\n    r=(z[i>>>3]>>>(i&7))&1;\n    sel25519(a,b,r);\n    sel25519(c,d,r);\n    A(e,a,c);\n    Z(a,a,c);\n    A(c,b,d);\n    Z(b,b,d);\n    S(d,e);\n    S(f,a);\n    M(a,c,a);\n    M(c,b,e);\n    A(e,a,c);\n    Z(a,a,c);\n    S(b,a);\n    Z(c,d,f);\n    M(a,c,_121665);\n    A(a,a,d);\n    M(c,c,a);\n    M(a,d,f);\n    M(d,b,x);\n    S(b,e);\n    sel25519(a,b,r);\n    sel25519(c,d,r);\n  }\n  for (i = 0; i < 16; i++) {\n    x[i+16]=a[i];\n    x[i+32]=c[i];\n    x[i+48]=b[i];\n    x[i+64]=d[i];\n  }\n  var x32 = x.subarray(32);\n  var x16 = x.subarray(16);\n  inv25519(x32,x32);\n  M(x16,x16,x32);\n  pack25519(q,x16);\n  return 0;\n}\n\nfunction crypto_scalarmult_base(q, n) {\n  return crypto_scalarmult(q, n, _9);\n}\n\nfunction crypto_box_keypair(y, x) {\n  randombytes(x, 32);\n  return crypto_scalarmult_base(y, x);\n}\n\nfunction crypto_box_beforenm(k, y, x) {\n  var s = new Uint8Array(32);\n  crypto_scalarmult(s, x, y);\n  return crypto_core_hsalsa20(k, _0, s, sigma);\n}\n\nvar crypto_box_afternm = crypto_secretbox;\nvar crypto_box_open_afternm = crypto_secretbox_open;\n\nfunction crypto_box(c, m, d, n, y, x) {\n  var k = new Uint8Array(32);\n  crypto_box_beforenm(k, y, x);\n  return crypto_box_afternm(c, m, d, n, k);\n}\n\nfunction crypto_box_open(m, c, d, n, y, x) {\n  var k = new Uint8Array(32);\n  crypto_box_beforenm(k, y, x);\n  return crypto_box_open_afternm(m, c, d, n, k);\n}\n\nfunction add64() {\n  var a = 0, b = 0, c = 0, d = 0, m16 = 65535, l, h, i;\n  for (i = 0; i < arguments.length; i++) {\n    l = arguments[i].lo;\n    h = arguments[i].hi;\n    a += (l & m16); b += (l >>> 16);\n    c += (h & m16); d += (h >>> 16);\n  }\n\n  b += (a >>> 16);\n  c += (b >>> 16);\n  d += (c >>> 16);\n\n  return new u64((c & m16) | (d << 16), (a & m16) | (b << 16));\n}\n\nfunction shr64(x, c) {\n  return new u64((x.hi >>> c), (x.lo >>> c) | (x.hi << (32 - c)));\n}\n\nfunction xor64() {\n  var l = 0, h = 0, i;\n  for (i = 0; i < arguments.length; i++) {\n    l ^= arguments[i].lo;\n    h ^= arguments[i].hi;\n  }\n  return new u64(h, l);\n}\n\nfunction R(x, c) {\n  var h, l, c1 = 32 - c;\n  if (c < 32) {\n    h = (x.hi >>> c) | (x.lo << c1);\n    l = (x.lo >>> c) | (x.hi << c1);\n  } else if (c < 64) {\n    h = (x.lo >>> c) | (x.hi << c1);\n    l = (x.hi >>> c) | (x.lo << c1);\n  }\n  return new u64(h, l);\n}\n\nfunction Ch(x, y, z) {\n  var h = (x.hi & y.hi) ^ (~x.hi & z.hi),\n      l = (x.lo & y.lo) ^ (~x.lo & z.lo);\n  return new u64(h, l);\n}\n\nfunction Maj(x, y, z) {\n  var h = (x.hi & y.hi) ^ (x.hi & z.hi) ^ (y.hi & z.hi),\n      l = (x.lo & y.lo) ^ (x.lo & z.lo) ^ (y.lo & z.lo);\n  return new u64(h, l);\n}\n\nfunction Sigma0(x) { return xor64(R(x,28), R(x,34), R(x,39)); }\nfunction Sigma1(x) { return xor64(R(x,14), R(x,18), R(x,41)); }\nfunction sigma0(x) { return xor64(R(x, 1), R(x, 8), shr64(x,7)); }\nfunction sigma1(x) { return xor64(R(x,19), R(x,61), shr64(x,6)); }\n\nvar K = [\n  new u64(0x428a2f98, 0xd728ae22), new u64(0x71374491, 0x23ef65cd),\n  new u64(0xb5c0fbcf, 0xec4d3b2f), new u64(0xe9b5dba5, 0x8189dbbc),\n  new u64(0x3956c25b, 0xf348b538), new u64(0x59f111f1, 0xb605d019),\n  new u64(0x923f82a4, 0xaf194f9b), new u64(0xab1c5ed5, 0xda6d8118),\n  new u64(0xd807aa98, 0xa3030242), new u64(0x12835b01, 0x45706fbe),\n  new u64(0x243185be, 0x4ee4b28c), new u64(0x550c7dc3, 0xd5ffb4e2),\n  new u64(0x72be5d74, 0xf27b896f), new u64(0x80deb1fe, 0x3b1696b1),\n  new u64(0x9bdc06a7, 0x25c71235), new u64(0xc19bf174, 0xcf692694),\n  new u64(0xe49b69c1, 0x9ef14ad2), new u64(0xefbe4786, 0x384f25e3),\n  new u64(0x0fc19dc6, 0x8b8cd5b5), new u64(0x240ca1cc, 0x77ac9c65),\n  new u64(0x2de92c6f, 0x592b0275), new u64(0x4a7484aa, 0x6ea6e483),\n  new u64(0x5cb0a9dc, 0xbd41fbd4), new u64(0x76f988da, 0x831153b5),\n  new u64(0x983e5152, 0xee66dfab), new u64(0xa831c66d, 0x2db43210),\n  new u64(0xb00327c8, 0x98fb213f), new u64(0xbf597fc7, 0xbeef0ee4),\n  new u64(0xc6e00bf3, 0x3da88fc2), new u64(0xd5a79147, 0x930aa725),\n  new u64(0x06ca6351, 0xe003826f), new u64(0x14292967, 0x0a0e6e70),\n  new u64(0x27b70a85, 0x46d22ffc), new u64(0x2e1b2138, 0x5c26c926),\n  new u64(0x4d2c6dfc, 0x5ac42aed), new u64(0x53380d13, 0x9d95b3df),\n  new u64(0x650a7354, 0x8baf63de), new u64(0x766a0abb, 0x3c77b2a8),\n  new u64(0x81c2c92e, 0x47edaee6), new u64(0x92722c85, 0x1482353b),\n  new u64(0xa2bfe8a1, 0x4cf10364), new u64(0xa81a664b, 0xbc423001),\n  new u64(0xc24b8b70, 0xd0f89791), new u64(0xc76c51a3, 0x0654be30),\n  new u64(0xd192e819, 0xd6ef5218), new u64(0xd6990624, 0x5565a910),\n  new u64(0xf40e3585, 0x5771202a), new u64(0x106aa070, 0x32bbd1b8),\n  new u64(0x19a4c116, 0xb8d2d0c8), new u64(0x1e376c08, 0x5141ab53),\n  new u64(0x2748774c, 0xdf8eeb99), new u64(0x34b0bcb5, 0xe19b48a8),\n  new u64(0x391c0cb3, 0xc5c95a63), new u64(0x4ed8aa4a, 0xe3418acb),\n  new u64(0x5b9cca4f, 0x7763e373), new u64(0x682e6ff3, 0xd6b2b8a3),\n  new u64(0x748f82ee, 0x5defb2fc), new u64(0x78a5636f, 0x43172f60),\n  new u64(0x84c87814, 0xa1f0ab72), new u64(0x8cc70208, 0x1a6439ec),\n  new u64(0x90befffa, 0x23631e28), new u64(0xa4506ceb, 0xde82bde9),\n  new u64(0xbef9a3f7, 0xb2c67915), new u64(0xc67178f2, 0xe372532b),\n  new u64(0xca273ece, 0xea26619c), new u64(0xd186b8c7, 0x21c0c207),\n  new u64(0xeada7dd6, 0xcde0eb1e), new u64(0xf57d4f7f, 0xee6ed178),\n  new u64(0x06f067aa, 0x72176fba), new u64(0x0a637dc5, 0xa2c898a6),\n  new u64(0x113f9804, 0xbef90dae), new u64(0x1b710b35, 0x131c471b),\n  new u64(0x28db77f5, 0x23047d84), new u64(0x32caab7b, 0x40c72493),\n  new u64(0x3c9ebe0a, 0x15c9bebc), new u64(0x431d67c4, 0x9c100d4c),\n  new u64(0x4cc5d4be, 0xcb3e42b6), new u64(0x597f299c, 0xfc657e2a),\n  new u64(0x5fcb6fab, 0x3ad6faec), new u64(0x6c44198c, 0x4a475817)\n];\n\nfunction crypto_hashblocks(x, m, n) {\n  var z = [], b = [], a = [], w = [], t, i, j;\n\n  for (i = 0; i < 8; i++) z[i] = a[i] = dl64(x, 8*i);\n\n  var pos = 0;\n  while (n >= 128) {\n    for (i = 0; i < 16; i++) w[i] = dl64(m, 8*i+pos);\n    for (i = 0; i < 80; i++) {\n      for (j = 0; j < 8; j++) b[j] = a[j];\n      t = add64(a[7], Sigma1(a[4]), Ch(a[4], a[5], a[6]), K[i], w[i%16]);\n      b[7] = add64(t, Sigma0(a[0]), Maj(a[0], a[1], a[2]));\n      b[3] = add64(b[3], t);\n      for (j = 0; j < 8; j++) a[(j+1)%8] = b[j];\n      if (i%16 === 15) {\n        for (j = 0; j < 16; j++) {\n          w[j] = add64(w[j], w[(j+9)%16], sigma0(w[(j+1)%16]), sigma1(w[(j+14)%16]));\n        }\n      }\n    }\n\n    for (i = 0; i < 8; i++) {\n      a[i] = add64(a[i], z[i]);\n      z[i] = a[i];\n    }\n\n    pos += 128;\n    n -= 128;\n  }\n\n  for (i = 0; i < 8; i++) ts64(x, 8*i, z[i]);\n  return n;\n}\n\nvar iv = new Uint8Array([\n  0x6a,0x09,0xe6,0x67,0xf3,0xbc,0xc9,0x08,\n  0xbb,0x67,0xae,0x85,0x84,0xca,0xa7,0x3b,\n  0x3c,0x6e,0xf3,0x72,0xfe,0x94,0xf8,0x2b,\n  0xa5,0x4f,0xf5,0x3a,0x5f,0x1d,0x36,0xf1,\n  0x51,0x0e,0x52,0x7f,0xad,0xe6,0x82,0xd1,\n  0x9b,0x05,0x68,0x8c,0x2b,0x3e,0x6c,0x1f,\n  0x1f,0x83,0xd9,0xab,0xfb,0x41,0xbd,0x6b,\n  0x5b,0xe0,0xcd,0x19,0x13,0x7e,0x21,0x79\n]);\n\nfunction crypto_hash(out, m, n) {\n  var h = new Uint8Array(64), x = new Uint8Array(256);\n  var i, b = n;\n\n  for (i = 0; i < 64; i++) h[i] = iv[i];\n\n  crypto_hashblocks(h, m, n);\n  n %= 128;\n\n  for (i = 0; i < 256; i++) x[i] = 0;\n  for (i = 0; i < n; i++) x[i] = m[b-n+i];\n  x[n] = 128;\n\n  n = 256-128*(n<112?1:0);\n  x[n-9] = 0;\n  ts64(x, n-8, new u64((b / 0x20000000) | 0, b << 3));\n  crypto_hashblocks(h, x, n);\n\n  for (i = 0; i < 64; i++) out[i] = h[i];\n\n  return 0;\n}\n\nfunction add(p, q) {\n  var a = gf(), b = gf(), c = gf(),\n      d = gf(), e = gf(), f = gf(),\n      g = gf(), h = gf(), t = gf();\n\n  Z(a, p[1], p[0]);\n  Z(t, q[1], q[0]);\n  M(a, a, t);\n  A(b, p[0], p[1]);\n  A(t, q[0], q[1]);\n  M(b, b, t);\n  M(c, p[3], q[3]);\n  M(c, c, D2);\n  M(d, p[2], q[2]);\n  A(d, d, d);\n  Z(e, b, a);\n  Z(f, d, c);\n  A(g, d, c);\n  A(h, b, a);\n\n  M(p[0], e, f);\n  M(p[1], h, g);\n  M(p[2], g, f);\n  M(p[3], e, h);\n}\n\nfunction cswap(p, q, b) {\n  var i;\n  for (i = 0; i < 4; i++) {\n    sel25519(p[i], q[i], b);\n  }\n}\n\nfunction pack(r, p) {\n  var tx = gf(), ty = gf(), zi = gf();\n  inv25519(zi, p[2]);\n  M(tx, p[0], zi);\n  M(ty, p[1], zi);\n  pack25519(r, ty);\n  r[31] ^= par25519(tx) << 7;\n}\n\nfunction scalarmult(p, q, s) {\n  var b, i;\n  set25519(p[0], gf0);\n  set25519(p[1], gf1);\n  set25519(p[2], gf1);\n  set25519(p[3], gf0);\n  for (i = 255; i >= 0; --i) {\n    b = (s[(i/8)|0] >> (i&7)) & 1;\n    cswap(p, q, b);\n    add(q, p);\n    add(p, p);\n    cswap(p, q, b);\n  }\n}\n\nfunction scalarbase(p, s) {\n  var q = [gf(), gf(), gf(), gf()];\n  set25519(q[0], X);\n  set25519(q[1], Y);\n  set25519(q[2], gf1);\n  M(q[3], X, Y);\n  scalarmult(p, q, s);\n}\n\nfunction crypto_sign_keypair(pk, sk, seeded) {\n  var d = new Uint8Array(64);\n  var p = [gf(), gf(), gf(), gf()];\n  var i;\n\n  if (!seeded) randombytes(sk, 32);\n  crypto_hash(d, sk, 32);\n  d[0] &= 248;\n  d[31] &= 127;\n  d[31] |= 64;\n\n  scalarbase(p, d);\n  pack(pk, p);\n\n  for (i = 0; i < 32; i++) sk[i+32] = pk[i];\n  return 0;\n}\n\nvar L = new Float64Array([0xed, 0xd3, 0xf5, 0x5c, 0x1a, 0x63, 0x12, 0x58, 0xd6, 0x9c, 0xf7, 0xa2, 0xde, 0xf9, 0xde, 0x14, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0x10]);\n\nfunction modL(r, x) {\n  var carry, i, j, k;\n  for (i = 63; i >= 32; --i) {\n    carry = 0;\n    for (j = i - 32, k = i - 12; j < k; ++j) {\n      x[j] += carry - 16 * x[i] * L[j - (i - 32)];\n      carry = Math.floor((x[j] + 128) / 256);\n      x[j] -= carry * 256;\n    }\n    x[j] += carry;\n    x[i] = 0;\n  }\n  carry = 0;\n  for (j = 0; j < 32; j++) {\n    x[j] += carry - (x[31] >> 4) * L[j];\n    carry = x[j] >> 8;\n    x[j] &= 255;\n  }\n  for (j = 0; j < 32; j++) x[j] -= carry * L[j];\n  for (i = 0; i < 32; i++) {\n    x[i+1] += x[i] >> 8;\n    r[i] = x[i] & 255;\n  }\n}\n\nfunction reduce(r) {\n  var x = new Float64Array(64), i;\n  for (i = 0; i < 64; i++) x[i] = r[i];\n  for (i = 0; i < 64; i++) r[i] = 0;\n  modL(r, x);\n}\n\n// Note: difference from C - smlen returned, not passed as argument.\nfunction crypto_sign(sm, m, n, sk) {\n  var d = new Uint8Array(64), h = new Uint8Array(64), r = new Uint8Array(64);\n  var i, j, x = new Float64Array(64);\n  var p = [gf(), gf(), gf(), gf()];\n\n  crypto_hash(d, sk, 32);\n  d[0] &= 248;\n  d[31] &= 127;\n  d[31] |= 64;\n\n  var smlen = n + 64;\n  for (i = 0; i < n; i++) sm[64 + i] = m[i];\n  for (i = 0; i < 32; i++) sm[32 + i] = d[32 + i];\n\n  crypto_hash(r, sm.subarray(32), n+32);\n  reduce(r);\n  scalarbase(p, r);\n  pack(sm, p);\n\n  for (i = 32; i < 64; i++) sm[i] = sk[i];\n  crypto_hash(h, sm, n + 64);\n  reduce(h);\n\n  for (i = 0; i < 64; i++) x[i] = 0;\n  for (i = 0; i < 32; i++) x[i] = r[i];\n  for (i = 0; i < 32; i++) {\n    for (j = 0; j < 32; j++) {\n      x[i+j] += h[i] * d[j];\n    }\n  }\n\n  modL(sm.subarray(32), x);\n  return smlen;\n}\n\nfunction unpackneg(r, p) {\n  var t = gf(), chk = gf(), num = gf(),\n      den = gf(), den2 = gf(), den4 = gf(),\n      den6 = gf();\n\n  set25519(r[2], gf1);\n  unpack25519(r[1], p);\n  S(num, r[1]);\n  M(den, num, D);\n  Z(num, num, r[2]);\n  A(den, r[2], den);\n\n  S(den2, den);\n  S(den4, den2);\n  M(den6, den4, den2);\n  M(t, den6, num);\n  M(t, t, den);\n\n  pow2523(t, t);\n  M(t, t, num);\n  M(t, t, den);\n  M(t, t, den);\n  M(r[0], t, den);\n\n  S(chk, r[0]);\n  M(chk, chk, den);\n  if (neq25519(chk, num)) M(r[0], r[0], I);\n\n  S(chk, r[0]);\n  M(chk, chk, den);\n  if (neq25519(chk, num)) return -1;\n\n  if (par25519(r[0]) === (p[31]>>7)) Z(r[0], gf0, r[0]);\n\n  M(r[3], r[0], r[1]);\n  return 0;\n}\n\nfunction crypto_sign_open(m, sm, n, pk) {\n  var i;\n  var t = new Uint8Array(32), h = new Uint8Array(64);\n  var p = [gf(), gf(), gf(), gf()],\n      q = [gf(), gf(), gf(), gf()];\n\n  if (n < 64) return -1;\n\n  if (unpackneg(q, pk)) return -1;\n\n  for (i = 0; i < n; i++) m[i] = sm[i];\n  for (i = 0; i < 32; i++) m[i+32] = pk[i];\n  crypto_hash(h, m, n);\n  reduce(h);\n  scalarmult(p, q, h);\n\n  scalarbase(q, sm.subarray(32));\n  add(p, q);\n  pack(t, p);\n\n  n -= 64;\n  if (crypto_verify_32(sm, 0, t, 0)) {\n    for (i = 0; i < n; i++) m[i] = 0;\n    return -1;\n  }\n\n  for (i = 0; i < n; i++) m[i] = sm[i + 64];\n  return n;\n}\n\nvar crypto_secretbox_KEYBYTES = 32,\n    crypto_secretbox_NONCEBYTES = 24,\n    crypto_secretbox_ZEROBYTES = 32,\n    crypto_secretbox_BOXZEROBYTES = 16,\n    crypto_scalarmult_BYTES = 32,\n    crypto_scalarmult_SCALARBYTES = 32,\n    crypto_box_PUBLICKEYBYTES = 32,\n    crypto_box_SECRETKEYBYTES = 32,\n    crypto_box_BEFORENMBYTES = 32,\n    crypto_box_NONCEBYTES = crypto_secretbox_NONCEBYTES,\n    crypto_box_ZEROBYTES = crypto_secretbox_ZEROBYTES,\n    crypto_box_BOXZEROBYTES = crypto_secretbox_BOXZEROBYTES,\n    crypto_sign_BYTES = 64,\n    crypto_sign_PUBLICKEYBYTES = 32,\n    crypto_sign_SECRETKEYBYTES = 64,\n    crypto_sign_SEEDBYTES = 32,\n    crypto_hash_BYTES = 64;\n\nnacl.lowlevel = {\n  crypto_core_hsalsa20: crypto_core_hsalsa20,\n  crypto_stream_xor: crypto_stream_xor,\n  crypto_stream: crypto_stream,\n  crypto_stream_salsa20_xor: crypto_stream_salsa20_xor,\n  crypto_stream_salsa20: crypto_stream_salsa20,\n  crypto_onetimeauth: crypto_onetimeauth,\n  crypto_onetimeauth_verify: crypto_onetimeauth_verify,\n  crypto_verify_16: crypto_verify_16,\n  crypto_verify_32: crypto_verify_32,\n  crypto_secretbox: crypto_secretbox,\n  crypto_secretbox_open: crypto_secretbox_open,\n  crypto_scalarmult: crypto_scalarmult,\n  crypto_scalarmult_base: crypto_scalarmult_base,\n  crypto_box_beforenm: crypto_box_beforenm,\n  crypto_box_afternm: crypto_box_afternm,\n  crypto_box: crypto_box,\n  crypto_box_open: crypto_box_open,\n  crypto_box_keypair: crypto_box_keypair,\n  crypto_hash: crypto_hash,\n  crypto_sign: crypto_sign,\n  crypto_sign_keypair: crypto_sign_keypair,\n  crypto_sign_open: crypto_sign_open,\n\n  crypto_secretbox_KEYBYTES: crypto_secretbox_KEYBYTES,\n  crypto_secretbox_NONCEBYTES: crypto_secretbox_NONCEBYTES,\n  crypto_secretbox_ZEROBYTES: crypto_secretbox_ZEROBYTES,\n  crypto_secretbox_BOXZEROBYTES: crypto_secretbox_BOXZEROBYTES,\n  crypto_scalarmult_BYTES: crypto_scalarmult_BYTES,\n  crypto_scalarmult_SCALARBYTES: crypto_scalarmult_SCALARBYTES,\n  crypto_box_PUBLICKEYBYTES: crypto_box_PUBLICKEYBYTES,\n  crypto_box_SECRETKEYBYTES: crypto_box_SECRETKEYBYTES,\n  crypto_box_BEFORENMBYTES: crypto_box_BEFORENMBYTES,\n  crypto_box_NONCEBYTES: crypto_box_NONCEBYTES,\n  crypto_box_ZEROBYTES: crypto_box_ZEROBYTES,\n  crypto_box_BOXZEROBYTES: crypto_box_BOXZEROBYTES,\n  crypto_sign_BYTES: crypto_sign_BYTES,\n  crypto_sign_PUBLICKEYBYTES: crypto_sign_PUBLICKEYBYTES,\n  crypto_sign_SECRETKEYBYTES: crypto_sign_SECRETKEYBYTES,\n  crypto_sign_SEEDBYTES: crypto_sign_SEEDBYTES,\n  crypto_hash_BYTES: crypto_hash_BYTES,\n\n  gf: gf,\n  D: D,\n  L: L,\n  pack25519: pack25519,\n  unpack25519: unpack25519,\n  M: M,\n  A: A,\n  S: S,\n  Z: Z,\n  pow2523: pow2523,\n  add: add,\n  set25519: set25519,\n  modL: modL,\n  scalarmult: scalarmult,\n  scalarbase: scalarbase,\n};\n\n/* High-level API */\n\nfunction checkLengths(k, n) {\n  if (k.length !== crypto_secretbox_KEYBYTES) throw new Error('bad key size');\n  if (n.length !== crypto_secretbox_NONCEBYTES) throw new Error('bad nonce size');\n}\n\nfunction checkBoxLengths(pk, sk) {\n  if (pk.length !== crypto_box_PUBLICKEYBYTES) throw new Error('bad public key size');\n  if (sk.length !== crypto_box_SECRETKEYBYTES) throw new Error('bad secret key size');\n}\n\nfunction checkArrayTypes() {\n  for (var i = 0; i < arguments.length; i++) {\n    if (!(arguments[i] instanceof Uint8Array))\n      throw new TypeError('unexpected type, use Uint8Array');\n  }\n}\n\nfunction cleanup(arr) {\n  for (var i = 0; i < arr.length; i++) arr[i] = 0;\n}\n\nnacl.randomBytes = function(n) {\n  var b = new Uint8Array(n);\n  randombytes(b, n);\n  return b;\n};\n\nnacl.secretbox = function(msg, nonce, key) {\n  checkArrayTypes(msg, nonce, key);\n  checkLengths(key, nonce);\n  var m = new Uint8Array(crypto_secretbox_ZEROBYTES + msg.length);\n  var c = new Uint8Array(m.length);\n  for (var i = 0; i < msg.length; i++) m[i+crypto_secretbox_ZEROBYTES] = msg[i];\n  crypto_secretbox(c, m, m.length, nonce, key);\n  return c.subarray(crypto_secretbox_BOXZEROBYTES);\n};\n\nnacl.secretbox.open = function(box, nonce, key) {\n  checkArrayTypes(box, nonce, key);\n  checkLengths(key, nonce);\n  var c = new Uint8Array(crypto_secretbox_BOXZEROBYTES + box.length);\n  var m = new Uint8Array(c.length);\n  for (var i = 0; i < box.length; i++) c[i+crypto_secretbox_BOXZEROBYTES] = box[i];\n  if (c.length < 32) return null;\n  if (crypto_secretbox_open(m, c, c.length, nonce, key) !== 0) return null;\n  return m.subarray(crypto_secretbox_ZEROBYTES);\n};\n\nnacl.secretbox.keyLength = crypto_secretbox_KEYBYTES;\nnacl.secretbox.nonceLength = crypto_secretbox_NONCEBYTES;\nnacl.secretbox.overheadLength = crypto_secretbox_BOXZEROBYTES;\n\nnacl.scalarMult = function(n, p) {\n  checkArrayTypes(n, p);\n  if (n.length !== crypto_scalarmult_SCALARBYTES) throw new Error('bad n size');\n  if (p.length !== crypto_scalarmult_BYTES) throw new Error('bad p size');\n  var q = new Uint8Array(crypto_scalarmult_BYTES);\n  crypto_scalarmult(q, n, p);\n  return q;\n};\n\nnacl.scalarMult.base = function(n) {\n  checkArrayTypes(n);\n  if (n.length !== crypto_scalarmult_SCALARBYTES) throw new Error('bad n size');\n  var q = new Uint8Array(crypto_scalarmult_BYTES);\n  crypto_scalarmult_base(q, n);\n  return q;\n};\n\nnacl.scalarMult.scalarLength = crypto_scalarmult_SCALARBYTES;\nnacl.scalarMult.groupElementLength = crypto_scalarmult_BYTES;\n\nnacl.box = function(msg, nonce, publicKey, secretKey) {\n  var k = nacl.box.before(publicKey, secretKey);\n  return nacl.secretbox(msg, nonce, k);\n};\n\nnacl.box.before = function(publicKey, secretKey) {\n  checkArrayTypes(publicKey, secretKey);\n  checkBoxLengths(publicKey, secretKey);\n  var k = new Uint8Array(crypto_box_BEFORENMBYTES);\n  crypto_box_beforenm(k, publicKey, secretKey);\n  return k;\n};\n\nnacl.box.after = nacl.secretbox;\n\nnacl.box.open = function(msg, nonce, publicKey, secretKey) {\n  var k = nacl.box.before(publicKey, secretKey);\n  return nacl.secretbox.open(msg, nonce, k);\n};\n\nnacl.box.open.after = nacl.secretbox.open;\n\nnacl.box.keyPair = function() {\n  var pk = new Uint8Array(crypto_box_PUBLICKEYBYTES);\n  var sk = new Uint8Array(crypto_box_SECRETKEYBYTES);\n  crypto_box_keypair(pk, sk);\n  return {publicKey: pk, secretKey: sk};\n};\n\nnacl.box.keyPair.fromSecretKey = function(secretKey) {\n  checkArrayTypes(secretKey);\n  if (secretKey.length !== crypto_box_SECRETKEYBYTES)\n    throw new Error('bad secret key size');\n  var pk = new Uint8Array(crypto_box_PUBLICKEYBYTES);\n  crypto_scalarmult_base(pk, secretKey);\n  return {publicKey: pk, secretKey: new Uint8Array(secretKey)};\n};\n\nnacl.box.publicKeyLength = crypto_box_PUBLICKEYBYTES;\nnacl.box.secretKeyLength = crypto_box_SECRETKEYBYTES;\nnacl.box.sharedKeyLength = crypto_box_BEFORENMBYTES;\nnacl.box.nonceLength = crypto_box_NONCEBYTES;\nnacl.box.overheadLength = nacl.secretbox.overheadLength;\n\nnacl.sign = function(msg, secretKey) {\n  checkArrayTypes(msg, secretKey);\n  if (secretKey.length !== crypto_sign_SECRETKEYBYTES)\n    throw new Error('bad secret key size');\n  var signedMsg = new Uint8Array(crypto_sign_BYTES+msg.length);\n  crypto_sign(signedMsg, msg, msg.length, secretKey);\n  return signedMsg;\n};\n\nnacl.sign.open = function(signedMsg, publicKey) {\n  checkArrayTypes(signedMsg, publicKey);\n  if (publicKey.length !== crypto_sign_PUBLICKEYBYTES)\n    throw new Error('bad public key size');\n  var tmp = new Uint8Array(signedMsg.length);\n  var mlen = crypto_sign_open(tmp, signedMsg, signedMsg.length, publicKey);\n  if (mlen < 0) return null;\n  var m = new Uint8Array(mlen);\n  for (var i = 0; i < m.length; i++) m[i] = tmp[i];\n  return m;\n};\n\nnacl.sign.detached = function(msg, secretKey) {\n  var signedMsg = nacl.sign(msg, secretKey);\n  var sig = new Uint8Array(crypto_sign_BYTES);\n  for (var i = 0; i < sig.length; i++) sig[i] = signedMsg[i];\n  return sig;\n};\n\nnacl.sign.detached.verify = function(msg, sig, publicKey) {\n  checkArrayTypes(msg, sig, publicKey);\n  if (sig.length !== crypto_sign_BYTES)\n    throw new Error('bad signature size');\n  if (publicKey.length !== crypto_sign_PUBLICKEYBYTES)\n    throw new Error('bad public key size');\n  var sm = new Uint8Array(crypto_sign_BYTES + msg.length);\n  var m = new Uint8Array(crypto_sign_BYTES + msg.length);\n  var i;\n  for (i = 0; i < crypto_sign_BYTES; i++) sm[i] = sig[i];\n  for (i = 0; i < msg.length; i++) sm[i+crypto_sign_BYTES] = msg[i];\n  return (crypto_sign_open(m, sm, sm.length, publicKey) >= 0);\n};\n\nnacl.sign.keyPair = function() {\n  var pk = new Uint8Array(crypto_sign_PUBLICKEYBYTES);\n  var sk = new Uint8Array(crypto_sign_SECRETKEYBYTES);\n  crypto_sign_keypair(pk, sk);\n  return {publicKey: pk, secretKey: sk};\n};\n\nnacl.sign.keyPair.fromSecretKey = function(secretKey) {\n  checkArrayTypes(secretKey);\n  if (secretKey.length !== crypto_sign_SECRETKEYBYTES)\n    throw new Error('bad secret key size');\n  var pk = new Uint8Array(crypto_sign_PUBLICKEYBYTES);\n  for (var i = 0; i < pk.length; i++) pk[i] = secretKey[32+i];\n  return {publicKey: pk, secretKey: new Uint8Array(secretKey)};\n};\n\nnacl.sign.keyPair.fromSeed = function(seed) {\n  checkArrayTypes(seed);\n  if (seed.length !== crypto_sign_SEEDBYTES)\n    throw new Error('bad seed size');\n  var pk = new Uint8Array(crypto_sign_PUBLICKEYBYTES);\n  var sk = new Uint8Array(crypto_sign_SECRETKEYBYTES);\n  for (var i = 0; i < 32; i++) sk[i] = seed[i];\n  crypto_sign_keypair(pk, sk, true);\n  return {publicKey: pk, secretKey: sk};\n};\n\nnacl.sign.publicKeyLength = crypto_sign_PUBLICKEYBYTES;\nnacl.sign.secretKeyLength = crypto_sign_SECRETKEYBYTES;\nnacl.sign.seedLength = crypto_sign_SEEDBYTES;\nnacl.sign.signatureLength = crypto_sign_BYTES;\n\nnacl.hash = function(msg) {\n  checkArrayTypes(msg);\n  var h = new Uint8Array(crypto_hash_BYTES);\n  crypto_hash(h, msg, msg.length);\n  return h;\n};\n\nnacl.hash.hashLength = crypto_hash_BYTES;\n\nnacl.verify = function(x, y) {\n  checkArrayTypes(x, y);\n  // Zero length arguments are considered not equal.\n  if (x.length === 0 || y.length === 0) return false;\n  if (x.length !== y.length) return false;\n  return (vn(x, 0, y, 0, x.length) === 0) ? true : false;\n};\n\nnacl.setPRNG = function(fn) {\n  randombytes = fn;\n};\n\n(function() {\n  // Initialize PRNG if environment provides CSPRNG.\n  // If not, methods calling randombytes will throw.\n  var crypto = typeof self !== 'undefined' ? (self.crypto || self.msCrypto) : null;\n  if (crypto && crypto.getRandomValues) {\n    // Browsers.\n    var QUOTA = 65536;\n    nacl.setPRNG(function(x, n) {\n      var i, v = new Uint8Array(n);\n      for (i = 0; i < n; i += QUOTA) {\n        crypto.getRandomValues(v.subarray(i, i + Math.min(n - i, QUOTA)));\n      }\n      for (i = 0; i < n; i++) x[i] = v[i];\n      cleanup(v);\n    });\n  } else if (typeof require !== 'undefined') {\n    // Node.js.\n    crypto = require('crypto');\n    if (crypto && crypto.randomBytes) {\n      nacl.setPRNG(function(x, n) {\n        var i, v = crypto.randomBytes(n);\n        for (i = 0; i < n; i++) x[i] = v[i];\n        cleanup(v);\n      });\n    }\n  }\n})();\n\n})(typeof module !== 'undefined' && module.exports ? module.exports : (self.nacl = self.nacl || {}));\n","// Written in 2014-2016 by Dmitry Chestnykh and Devi Mandiri.\n// Public domain.\n(function(root, f) {\n  'use strict';\n  if (typeof module !== 'undefined' && module.exports) module.exports = f();\n  else if (root.nacl) root.nacl.util = f();\n  else {\n    root.nacl = {};\n    root.nacl.util = f();\n  }\n}(this, function() {\n  'use strict';\n\n  var util = {};\n\n  function validateBase64(s) {\n    if (!(/^(?:[A-Za-z0-9+\\/]{2}[A-Za-z0-9+\\/]{2})*(?:[A-Za-z0-9+\\/]{2}==|[A-Za-z0-9+\\/]{3}=)?$/.test(s))) {\n      throw new TypeError('invalid encoding');\n    }\n  }\n\n  util.decodeUTF8 = function(s) {\n    if (typeof s !== 'string') throw new TypeError('expected string');\n    var i, d = unescape(encodeURIComponent(s)), b = new Uint8Array(d.length);\n    for (i = 0; i < d.length; i++) b[i] = d.charCodeAt(i);\n    return b;\n  };\n\n  util.encodeUTF8 = function(arr) {\n    var i, s = [];\n    for (i = 0; i < arr.length; i++) s.push(String.fromCharCode(arr[i]));\n    return decodeURIComponent(escape(s.join('')));\n  };\n\n  if (typeof atob === 'undefined') {\n    // Node.js\n\n    if (typeof Buffer.from !== 'undefined') {\n       // Node v6 and later\n      util.encodeBase64 = function (arr) { // v6 and later\n          return Buffer.from(arr).toString('base64');\n      };\n\n      util.decodeBase64 = function (s) {\n        validateBase64(s);\n        return new Uint8Array(Array.prototype.slice.call(Buffer.from(s, 'base64'), 0));\n      };\n\n    } else {\n      // Node earlier than v6\n      util.encodeBase64 = function (arr) { // v6 and later\n        return (new Buffer(arr)).toString('base64');\n      };\n\n      util.decodeBase64 = function(s) {\n        validateBase64(s);\n        return new Uint8Array(Array.prototype.slice.call(new Buffer(s, 'base64'), 0));\n      };\n    }\n\n  } else {\n    // Browsers\n\n    util.encodeBase64 = function(arr) {\n      var i, s = [], len = arr.length;\n      for (i = 0; i < len; i++) s.push(String.fromCharCode(arr[i]));\n      return btoa(s.join(''));\n    };\n\n    util.decodeBase64 = function(s) {\n      validateBase64(s);\n      var i, d = atob(s), b = new Uint8Array(d.length);\n      for (i = 0; i < d.length; i++) b[i] = d.charCodeAt(i);\n      return b;\n    };\n\n  }\n\n  return util;\n\n}));\n","/*\n    DataBridges Javascript NaCl wrapper for databridges library.\n    https://www.databridges.io/ \n\n    Copyright 2022 Optomate Technologies Private Limited.\n\n    Permission is hereby granted, free of charge, to any person obtaining\n    a copy of this software and associated documentation files (the\n    \"Software\"), to deal in the Software without restriction, including\n    without limitation the rights to use, copy, modify, merge, publish,\n    distribute, sublicense, and/or sell copies of the Software, and to\n    permit persons to whom the Software is furnished to do so, subject to\n    the following conditions:\n\n    The above copyright notice and this permission notice shall be\n    included in all copies or substantial portions of the Software.\n\n    THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND,\n    EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n    MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND\n    NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE\n    LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION\n    OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION\n    WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.\n*/\nconst nacl = require('./nacl'); \nnacl.util = require('./nacl-util');\n\nclass databridges_nacl_wrapper \n{\n\n    constructor(){\n        this.secret = undefined;\n    }\n\n    write(data) {\n        if (!(this.secret)) {\n            throw (new dBError(\"INVALID_SECRET\",\"\"));\n            return false;\n        }\n        if (!(data)) {\n            throw (new dBError(\"INVALID_DATA\", \"\"));\n            return false;\n        }\n        try {\n            const msecretKey = nacl.util.decodeUTF8(this.secret);\n            const nonce = nacl.randomBytes(24);\n            const secretData = nacl.util.decodeUTF8(data);\n            const box = nacl.secretbox(secretData, nonce, msecretKey);\n            const result = nacl.util.encodeBase64(nonce) + \":\" + nacl.util.encodeBase64(box);\n            return result;\n        } catch (err) {\n            throw (new dBError(\"NACL_EXCEPTION\", err.message));\n        }\n    } \n\n    read(encrypData) {\n        if (!(this.secret)) {\n            throw (new dBError(\"INVALID_SECRET\", \"\"));\n            return false;\n        }\n        if (!(encrypData)) {\n            throw (new dBError(\"INVALID_DATA\", \"\"));\n            return false;\n        }\n        if (!(encrypData.includes(\":\"))) {\n            throw (new dBError(\"INVALID_DATA\", \"\"));\n            return false;\n        }\n        try {\n            const msecretKey = nacl.util.decodeUTF8(this.secret);\n            let encrypted = encrypData.split(':');\n            let nonce = nacl.util.decodeBase64(encrypted[0]);\n            encrypted = nacl.util.decodeBase64(encrypted[1]);\n            const decrypted = nacl.secretbox.open(encrypted, nonce, msecretKey);\n            if (!decrypted) {\n                throw (new dBError(\"NACL_DECRYPT_FAILED\", \"Decryption failed, either data is encrypted with different secret or data is manipulated.\"));\n                return false;\n            } else {\n                const decryptedm = nacl.util.encodeUTF8(decrypted);\n                return decryptedm;\n            }\n        } catch (err) {\n            throw (new dBError(\"NACL_EXCEPTION\", err.message));\n        }\n    }\n}\n\nclass dBError extends Error {\n    constructor(errCode,errMessage) {\n        super(errCode, errMessage);\n        this.source = \"DBLIB_NACL_WRAPPER\";\n        this.code = errCode;\n        this.message = errMessage;\n        Error.captureStackTrace(this, this.constructor);\n    }\n     \n}\n\nmodule.exports = databridges_nacl_wrapper;"],"names":["nacl","u64","h","l","this","hi","lo","gf","init","i","r","Float64Array","length","randombytes","Error","_0","Uint8Array","_9","gf0","gf1","_121665","D","D2","X","Y","I","L32","x","c","ld32","u","dl64","st32","j","ts64","vn","xi","y","yi","n","d","crypto_verify_16","crypto_verify_32","core","out","inp","k","m","w","Uint32Array","t","crypto_core_salsa20","crypto_core_hsalsa20","sigma","crypto_stream_salsa20_xor","cpos","mpos","b","z","crypto_stream_salsa20","crypto_stream","s","subarray","crypto_stream_xor","add1305","minusp","crypto_onetimeauth","outpos","g","crypto_onetimeauth_verify","hpos","crypto_secretbox","crypto_secretbox_open","set25519","a","car25519","o","Math","floor","sel25519","p","q","pack25519","neq25519","par25519","unpack25519","A","Z","M","S","inv25519","pow2523","crypto_scalarmult","e","f","x32","x16","crypto_scalarmult_base","crypto_box_keypair","crypto_box_beforenm","crypto_box_afternm","crypto_box_open_afternm","add64","m16","arguments","shr64","xor64","R","c1","Ch","Maj","Sigma0","Sigma1","sigma0","sigma1","K","crypto_hashblocks","pos","iv","crypto_hash","add","cswap","pack","tx","ty","zi","scalarmult","scalarbase","crypto_sign_keypair","pk","sk","seeded","L","modL","carry","reduce","crypto_sign","sm","smlen","crypto_sign_open","chk","num","den","den2","den4","den6","unpackneg","crypto","crypto_secretbox_BOXZEROBYTES","crypto_sign_BYTES","crypto_sign_PUBLICKEYBYTES","crypto_sign_SECRETKEYBYTES","checkLengths","checkArrayTypes","TypeError","cleanup","arr","lowlevel","crypto_box","crypto_box_open","crypto_secretbox_KEYBYTES","crypto_secretbox_NONCEBYTES","crypto_secretbox_ZEROBYTES","crypto_scalarmult_BYTES","crypto_scalarmult_SCALARBYTES","crypto_box_PUBLICKEYBYTES","crypto_box_SECRETKEYBYTES","crypto_box_BEFORENMBYTES","crypto_box_NONCEBYTES","crypto_box_ZEROBYTES","crypto_box_BOXZEROBYTES","crypto_sign_SEEDBYTES","crypto_hash_BYTES","randomBytes","secretbox","msg","nonce","key","open","box","keyLength","nonceLength","overheadLength","scalarMult","base","scalarLength","groupElementLength","publicKey","secretKey","before","checkBoxLengths","after","keyPair","fromSecretKey","publicKeyLength","secretKeyLength","sharedKeyLength","sign","signedMsg","tmp","mlen","detached","sig","verify","fromSeed","seed","seedLength","signatureLength","hash","hashLength","setPRNG","fn","self","msCrypto","getRandomValues","v","min","require$$0","exports","module","root","util","validateBase64","test","decodeUTF8","unescape","encodeURIComponent","charCodeAt","encodeUTF8","push","String","fromCharCode","decodeURIComponent","escape","join","atob","Buffer","from","encodeBase64","toString","decodeBase64","Array","prototype","slice","call","len","btoa","require$$1","dBError","constructor","errCode","errMessage","super","source","code","message","captureStackTrace","secret","undefined","write","data","msecretKey","secretData","err","read","encrypData","includes","encrypted","split","decrypted"],"mappings":"imBAAe,CAAE,MCAjB,SAAUA,GASV,IAAIC,EAAM,SAASC,EAAGC,GAAKC,KAAKC,GAAO,EAAFH,EAAWE,KAAKE,GAAO,EAAFH,GACtDI,EAAK,SAASC,GAChB,IAAIC,EAAGC,EAAI,IAAIC,aAAa,IAC5B,GAAIH,EAAM,IAAKC,EAAI,EAAGA,EAAID,EAAKI,OAAQH,IAAKC,EAAED,GAAKD,EAAKC,GACxD,OAAOC,CACT,EAGIG,EAAc,WAAuB,MAAM,IAAIC,MAAM,YAErDC,EAAK,IAAIC,WAAW,IACpBC,EAAK,IAAID,WAAW,IAAKC,EAAG,GAAK,EAErC,IAAIC,EAAMX,IACNY,EAAMZ,EAAG,CAAC,IACVa,EAAUb,EAAG,CAAC,MAAQ,IACtBc,EAAId,EAAG,CAAC,MAAQ,KAAQ,MAAQ,MAAQ,MAAQ,MAAQ,KAAQ,IAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,QAChIe,EAAKf,EAAG,CAAC,MAAQ,KAAQ,MAAQ,MAAQ,MAAQ,MAAQ,KAAQ,IAAQ,MAAQ,MAAQ,MAAQ,KAAQ,MAAQ,MAAQ,MAAQ,OACjIgB,EAAIhB,EAAG,CAAC,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,OAChIiB,EAAIjB,EAAG,CAAC,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,QAChIkB,EAAIlB,EAAG,CAAC,MAAQ,MAAQ,KAAQ,MAAQ,MAAQ,MAAQ,KAAQ,MAAQ,MAAQ,MAAQ,IAAQ,MAAQ,MAAQ,MAAQ,KAAQ,QAEpI,SAASmB,EAAIC,EAAGC,GAAK,OAAQD,GAAKC,EAAMD,IAAO,GAAKC,CAAM,CAE1D,SAASC,EAAKF,EAAGlB,GACf,IAAIqB,EAAa,IAATH,EAAElB,EAAE,GAGZ,OADAqB,GADAA,EAAKA,GAAG,EAAa,IAATH,EAAElB,EAAE,KACR,EAAa,IAATkB,EAAElB,EAAE,KACL,EAAa,IAATkB,EAAElB,EAAE,EACpB,CAED,SAASsB,EAAKJ,EAAGlB,GACf,IAAIP,EAAKyB,EAAElB,IAAM,GAAOkB,EAAElB,EAAE,IAAM,GAAOkB,EAAElB,EAAE,IAAM,EAAKkB,EAAElB,EAAE,GACxDN,EAAKwB,EAAElB,EAAE,IAAM,GAAOkB,EAAElB,EAAE,IAAM,GAAOkB,EAAElB,EAAE,IAAM,EAAKkB,EAAElB,EAAE,GAC9D,OAAO,IAAIR,EAAIC,EAAGC,EACnB,CAED,SAAS6B,EAAKL,EAAGM,EAAGH,GAClB,IAAIrB,EACJ,IAAKA,EAAI,EAAGA,EAAI,EAAGA,IAAOkB,EAAEM,EAAExB,GAAS,IAAJqB,EAASA,KAAO,CACpD,CAED,SAASI,EAAKP,EAAGlB,EAAGqB,GAClBH,EAAElB,GAAQqB,EAAEzB,IAAM,GAAM,IACxBsB,EAAElB,EAAE,GAAMqB,EAAEzB,IAAM,GAAM,IACxBsB,EAAElB,EAAE,GAAMqB,EAAEzB,IAAO,EAAK,IACxBsB,EAAElB,EAAE,GAAY,IAAPqB,EAAEzB,GACXsB,EAAElB,EAAE,GAAMqB,EAAExB,IAAM,GAAO,IACzBqB,EAAElB,EAAE,GAAMqB,EAAExB,IAAM,GAAO,IACzBqB,EAAElB,EAAE,GAAMqB,EAAExB,IAAO,EAAM,IACzBqB,EAAElB,EAAE,GAAY,IAAPqB,EAAExB,EACZ,CAED,SAAS6B,EAAGR,EAAGS,EAAIC,EAAGC,EAAIC,GACxB,IAAI9B,EAAE+B,EAAI,EACV,IAAK/B,EAAI,EAAGA,EAAI8B,EAAG9B,IAAK+B,GAAKb,EAAES,EAAG3B,GAAG4B,EAAEC,EAAG7B,GAC1C,OAAQ,EAAM+B,EAAI,IAAO,GAAM,CAChC,CAED,SAASC,EAAiBd,EAAGS,EAAIC,EAAGC,GAClC,OAAOH,EAAGR,EAAES,EAAGC,EAAEC,EAAG,GACrB,CAED,SAASI,EAAiBf,EAAGS,EAAIC,EAAGC,GAClC,OAAOH,EAAGR,EAAES,EAAGC,EAAEC,EAAG,GACrB,CAED,SAASK,EAAKC,EAAIC,EAAIC,EAAElB,EAAE1B,GACxB,IAEIO,EAAGwB,EAAGc,EAFNC,EAAI,IAAIC,YAAY,IAAKtB,EAAI,IAAIsB,YAAY,IAC7CZ,EAAI,IAAIY,YAAY,IAAKC,EAAI,IAAID,YAAY,GAGjD,IAAKxC,EAAI,EAAGA,EAAI,EAAGA,IACjBkB,EAAE,EAAElB,GAAKoB,EAAKD,EAAG,EAAEnB,GACnBkB,EAAE,EAAElB,GAAKoB,EAAKiB,EAAG,EAAErC,GACnBkB,EAAE,EAAElB,GAAKoB,EAAKgB,EAAK,EAAEpC,GACrBkB,EAAE,GAAGlB,GAAKoB,EAAKiB,EAAG,GAAG,EAAErC,GAGzB,IAAKA,EAAI,EAAGA,EAAI,GAAIA,IAAK4B,EAAE5B,GAAKkB,EAAElB,GAElC,IAAKA,EAAI,EAAGA,EAAI,GAAIA,IAAK,CACvB,IAAKwB,EAAI,EAAGA,EAAI,EAAGA,IAAK,CACtB,IAAKc,EAAI,EAAGA,EAAI,EAAGA,IAAKG,EAAEH,GAAKpB,GAAG,EAAEM,EAAE,EAAEc,GAAG,IAK3C,IAJAG,EAAE,IAAMxB,EAAKwB,EAAE,GAAGA,EAAE,GAAI,EAAG,GAC3BA,EAAE,IAAMxB,EAAKwB,EAAE,GAAGA,EAAE,GAAI,EAAG,GAC3BA,EAAE,IAAMxB,EAAKwB,EAAE,GAAGA,EAAE,GAAI,EAAE,IAC1BA,EAAE,IAAMxB,EAAKwB,EAAE,GAAGA,EAAE,GAAI,EAAE,IACrBH,EAAI,EAAGA,EAAI,EAAGA,IAAKC,EAAE,EAAEf,GAAGA,EAAEc,GAAG,GAAKG,EAAEH,EAC5C,CACD,IAAKA,EAAI,EAAGA,EAAI,GAAIA,IAAKpB,EAAEoB,GAAKC,EAAED,EACnC,CAED,GAAI7C,EAAG,CACL,IAAKO,EAAI,EAAGA,EAAI,GAAIA,IAAKkB,EAAElB,GAAMkB,EAAElB,GAAK4B,EAAE5B,GAAM,EAChD,IAAKA,EAAI,EAAGA,EAAI,EAAGA,IACjBkB,EAAE,EAAElB,GAAMkB,EAAE,EAAElB,GAAKoB,EAAKD,EAAG,EAAEnB,GAAM,EACnCkB,EAAE,EAAElB,GAAMkB,EAAE,EAAElB,GAAKoB,EAAKgB,EAAK,EAAEpC,GAAM,EAEvC,IAAKA,EAAI,EAAGA,EAAI,EAAGA,IACjBuB,EAAKY,EAAI,EAAEnC,EAAEkB,EAAE,EAAElB,IACjBuB,EAAKY,EAAI,GAAG,EAAEnC,EAAEkB,EAAE,EAAElB,GAE1B,MACI,IAAKA,EAAI,EAAGA,EAAI,GAAIA,IAAKuB,EAAKY,EAAK,EAAInC,EAAIkB,EAAElB,GAAK4B,EAAE5B,GAAM,EAE7D,CAED,SAAS0C,EAAoBP,EAAIC,EAAIC,EAAElB,GAErC,OADAe,EAAKC,EAAIC,EAAIC,EAAElB,GAAE,GACV,CACR,CAED,SAASwB,EAAqBR,EAAIC,EAAIC,EAAElB,GAEtC,OADAe,EAAKC,EAAIC,EAAIC,EAAElB,GAAE,GACV,CACR,CAED,IAAIyB,EAAQ,IAAIrC,WAAW,CAAC,IAAK,IAAK,IAAK,GAAI,IAAK,IAAK,GAAI,GAAI,GAAI,GAAI,GAAI,IAAK,IAAK,IAAK,GAAI,MAGhG,SAASsC,EAA0B1B,EAAE2B,EAAKR,EAAES,EAAKC,EAAElB,EAAEO,GACnD,IACIhB,EAAGrB,EADHiD,EAAI,IAAI1C,WAAW,IAAKW,EAAI,IAAIX,WAAW,IAE/C,IAAKyC,EAAG,OAAO,EACf,IAAKhD,EAAI,EAAGA,EAAI,GAAIA,IAAKiD,EAAEjD,GAAK,EAChC,IAAKA,EAAI,EAAGA,EAAI,EAAGA,IAAKiD,EAAEjD,GAAK8B,EAAE9B,GACjC,KAAOgD,GAAK,IAAI,CAEd,IADAN,EAAoBxB,EAAE+B,EAAEZ,EAAEO,GACrB5C,EAAI,EAAGA,EAAI,GAAIA,IAAKmB,EAAE2B,EAAK9C,IAAMsC,EAAEA,EAAES,EAAK/C,GAAG,GAAKkB,EAAElB,GAEzD,IADAqB,EAAI,EACCrB,EAAI,EAAGA,EAAI,GAAIA,IAClBqB,EAAIA,GAAY,IAAP4B,EAAEjD,IAAa,EACxBiD,EAAEjD,GAAS,IAAJqB,EACPA,KAAO,EAET2B,GAAK,GACLF,GAAQ,GACJR,IAAGS,GAAQ,GAChB,CACD,GAAIC,EAAI,EAEN,IADAN,EAAoBxB,EAAE+B,EAAEZ,EAAEO,GACrB5C,EAAI,EAAGA,EAAIgD,EAAGhD,IAAKmB,EAAE2B,EAAK9C,IAAMsC,EAAEA,EAAES,EAAK/C,GAAG,GAAKkB,EAAElB,GAE1D,OAAO,CACR,CAED,SAASkD,EAAsB/B,EAAE2B,EAAKf,EAAED,EAAEO,GACxC,OAAOQ,EAA0B1B,EAAE2B,EAAK,KAAK,EAAEf,EAAED,EAAEO,EACpD,CAED,SAASc,EAAchC,EAAE2B,EAAKf,EAAED,EAAEO,GAChC,IAAIe,EAAI,IAAI7C,WAAW,IAEvB,OADAoC,EAAqBS,EAAEtB,EAAEO,EAAEO,GACpBM,EAAsB/B,EAAE2B,EAAKf,EAAED,EAAEuB,SAAS,IAAID,EACtD,CAED,SAASE,EAAkBnC,EAAE2B,EAAKR,EAAES,EAAKhB,EAAED,EAAEO,GAC3C,IAAIe,EAAI,IAAI7C,WAAW,IAEvB,OADAoC,EAAqBS,EAAEtB,EAAEO,EAAEO,GACpBC,EAA0B1B,EAAE2B,EAAKR,EAAES,EAAKhB,EAAED,EAAEuB,SAAS,IAAID,EACjE,CAED,SAASG,EAAQ9D,EAAG0B,GAClB,IAAIK,EAAGH,EAAI,EACX,IAAKG,EAAI,EAAGA,EAAI,GAAIA,IAClBH,EAAKA,GAAM5B,EAAE+B,GAAKL,EAAEK,GAAM,GAAM,EAChC/B,EAAE+B,GAAS,IAAJH,EACPA,KAAO,CAEV,CAED,IAAImC,EAAS,IAAIhB,YAAY,CAC3B,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,MAGlD,SAASiB,EAAmBtB,EAAKuB,EAAQpB,EAAGS,EAAMjB,EAAGO,GACnD,IAAIe,EAAGpD,EAAGwB,EAAGH,EACTH,EAAI,IAAIsB,YAAY,IAAKvC,EAAI,IAAIuC,YAAY,IAC7C/C,EAAI,IAAI+C,YAAY,IAAKrB,EAAI,IAAIqB,YAAY,IAC7CmB,EAAI,IAAInB,YAAY,IACxB,IAAKhB,EAAI,EAAGA,EAAI,GAAIA,IAAKvB,EAAEuB,GAAG/B,EAAE+B,GAAG,EACnC,IAAKA,EAAI,EAAGA,EAAI,GAAIA,IAAKvB,EAAEuB,GAAGa,EAAEb,GAShC,IARAvB,EAAE,IAAI,GACNA,EAAE,IAAI,IACNA,EAAE,IAAI,GACNA,EAAE,IAAI,IACNA,EAAE,KAAK,GACPA,EAAE,KAAK,IACPA,EAAE,KAAK,GAEA6B,EAAI,GAAG,CACZ,IAAKN,EAAI,EAAGA,EAAI,GAAIA,IAAKL,EAAEK,GAAK,EAChC,IAAKA,EAAI,EAAIA,EAAI,IAAQA,EAAIM,IAAMN,EAAGL,EAAEK,GAAKc,EAAES,EAAKvB,GAIpD,IAHAL,EAAEK,GAAK,EACPuB,GAAQvB,EAAGM,GAAKN,EAChB+B,EAAQ9D,EAAE0B,GACLnB,EAAI,EAAGA,EAAI,GAAIA,IAElB,IADAkB,EAAElB,GAAK,EACFwB,EAAI,EAAGA,EAAI,GAAIA,IAAKN,EAAElB,GAA0E,EAApEkB,EAAElB,GAAMP,EAAE+B,IAAOA,GAAKxB,EAAKC,EAAED,EAAIwB,GAAO,IAAMvB,EAAED,EAAI,GAAKwB,GAAI,GAEhG,IAAKxB,EAAI,EAAGA,EAAI,GAAIA,IAAKP,EAAEO,GAAKkB,EAAElB,GAElC,IADAqB,EAAI,EACCG,EAAI,EAAGA,EAAI,GAAIA,IAClBH,EAAKA,EAAI5B,EAAE+B,GAAM,EACjB/B,EAAE+B,GAAS,IAAJH,EACPA,KAAO,EAIT,IAFAA,EAAKA,EAAI5B,EAAE,IAAO,EAAGA,EAAE,IAAU,EAAJ4B,EAC7BA,EAAK,GAAKA,IAAM,GAAM,EACjBG,EAAI,EAAGA,EAAI,GAAIA,IAClBH,EAAKA,EAAI5B,EAAE+B,GAAM,EACjB/B,EAAE+B,GAAS,IAAJH,EACPA,KAAO,EAETA,EAAKA,EAAI5B,EAAE,IAAO,EAAGA,EAAE,IAAM4B,CAC9B,CAED,IAAKG,EAAI,EAAGA,EAAI,GAAIA,IAAKmC,EAAEnC,GAAK/B,EAAE+B,GAGlC,IAFA+B,EAAQ9D,EAAE+D,GACVJ,EAAsB,IAAf3D,EAAE,MAAQ,GACZ+B,EAAI,EAAGA,EAAI,GAAIA,IAAK/B,EAAE+B,IAAM4B,GAAKO,EAAEnC,GAAK/B,EAAE+B,IAE/C,IAAKA,EAAI,EAAGA,EAAI,GAAIA,IAAKL,EAAEK,GAAKa,EAAEb,EAAI,IAGtC,IAFAL,EAAE,IAAM,EACRoC,EAAQ9D,EAAE0B,GACLK,EAAI,EAAGA,EAAI,GAAIA,IAAKW,EAAIuB,EAAOlC,GAAK/B,EAAE+B,GAC3C,OAAO,CACR,CAED,SAASoC,EAA0BnE,EAAGoE,EAAMvB,EAAGS,EAAMjB,EAAGO,GACtD,IAAInB,EAAI,IAAIX,WAAW,IAEvB,OADAkD,EAAmBvC,EAAE,EAAEoB,EAAES,EAAKjB,EAAEO,GACzBL,EAAiBvC,EAAEoE,EAAK3C,EAAE,EAClC,CAED,SAAS4C,EAAiB3C,EAAEmB,EAAEP,EAAED,EAAEO,GAChC,IAAIrC,EACJ,GAAI+B,EAAI,GAAI,OAAQ,EAGpB,IAFAuB,EAAkBnC,EAAE,EAAEmB,EAAE,EAAEP,EAAED,EAAEO,GAC9BoB,EAAmBtC,EAAG,GAAIA,EAAG,GAAIY,EAAI,GAAIZ,GACpCnB,EAAI,EAAGA,EAAI,GAAIA,IAAKmB,EAAEnB,GAAK,EAChC,OAAO,CACR,CAED,SAAS+D,EAAsBzB,EAAEnB,EAAEY,EAAED,EAAEO,GACrC,IAAIrC,EACAkB,EAAI,IAAIX,WAAW,IACvB,GAAIwB,EAAI,GAAI,OAAQ,EAEpB,GADAoB,EAAcjC,EAAE,EAAE,GAAGY,EAAEO,GACiC,IAApDuB,EAA0BzC,EAAG,GAAGA,EAAG,GAAGY,EAAI,GAAGb,GAAU,OAAQ,EAEnE,IADAoC,EAAkBhB,EAAE,EAAEnB,EAAE,EAAEY,EAAED,EAAEO,GACzBrC,EAAI,EAAGA,EAAI,GAAIA,IAAKsC,EAAEtC,GAAK,EAChC,OAAO,CACR,CAED,SAASgE,EAAS/D,EAAGgE,GACnB,IAAIjE,EACJ,IAAKA,EAAI,EAAGA,EAAI,GAAIA,IAAKC,EAAED,GAAU,EAALiE,EAAEjE,EACnC,CAED,SAASkE,EAASC,GAChB,IAAIhD,EACAnB,EACJ,IAAKA,EAAI,EAAGA,EAAI,GAAIA,IAChBmE,EAAEnE,IAAM,MACRmB,EAAIiD,KAAKC,MAAMF,EAAEnE,GAAK,OACtBmE,GAAGnE,EAAE,IAAIA,EAAE,GAAG,EAAE,KAAOmB,EAAI,EAAI,IAAMA,EAAE,IAAU,KAAJnB,EAAO,EAAE,GACtDmE,EAAEnE,IAAW,MAAJmB,CAEd,CAED,SAASmD,EAASC,EAAGC,EAAGxB,GAEtB,IADA,IAAIP,EAAGtB,IAAM6B,EAAE,GACNhD,EAAI,EAAGA,EAAI,GAAIA,IACtByC,EAAItB,GAAKoD,EAAEvE,GAAKwE,EAAExE,IAClBuE,EAAEvE,IAAMyC,EACR+B,EAAExE,IAAMyC,CAEX,CAED,SAASgC,EAAUN,EAAGrC,GACpB,IAAI9B,EAAGwB,EAAGwB,EACNV,EAAIxC,IAAM2C,EAAI3C,IAClB,IAAKE,EAAI,EAAGA,EAAI,GAAIA,IAAKyC,EAAEzC,GAAK8B,EAAE9B,GAIlC,IAHAkE,EAASzB,GACTyB,EAASzB,GACTyB,EAASzB,GACJjB,EAAI,EAAGA,EAAI,EAAGA,IAAK,CAEtB,IADAc,EAAE,GAAKG,EAAE,GAAK,MACTzC,EAAI,EAAGA,EAAI,GAAIA,IAClBsC,EAAEtC,GAAKyC,EAAEzC,GAAK,OAAWsC,EAAEtC,EAAE,IAAI,GAAM,GACvCsC,EAAEtC,EAAE,IAAM,MAEZsC,EAAE,IAAMG,EAAE,IAAM,OAAWH,EAAE,KAAK,GAAM,GACxCU,EAAKV,EAAE,KAAK,GAAM,EAClBA,EAAE,KAAO,MACTgC,EAAS7B,EAAGH,EAAG,EAAEU,EAClB,CACD,IAAKhD,EAAI,EAAGA,EAAI,GAAIA,IAClBmE,EAAE,EAAEnE,GAAY,IAAPyC,EAAEzC,GACXmE,EAAE,EAAEnE,EAAE,GAAKyC,EAAEzC,IAAI,CAEpB,CAED,SAAS0E,EAAST,EAAGjB,GACnB,IAAI7B,EAAI,IAAIZ,WAAW,IAAKwB,EAAI,IAAIxB,WAAW,IAG/C,OAFAkE,EAAUtD,EAAG8C,GACbQ,EAAU1C,EAAGiB,GACNf,EAAiBd,EAAG,EAAGY,EAAG,EAClC,CAED,SAAS4C,EAASV,GAChB,IAAIlC,EAAI,IAAIxB,WAAW,IAEvB,OADAkE,EAAU1C,EAAGkC,GACC,EAAPlC,EAAE,EACV,CAED,SAAS6C,EAAYT,EAAGrC,GACtB,IAAI9B,EACJ,IAAKA,EAAI,EAAGA,EAAI,GAAIA,IAAKmE,EAAEnE,GAAK8B,EAAE,EAAE9B,IAAM8B,EAAE,EAAE9B,EAAE,IAAM,GACtDmE,EAAE,KAAO,KACV,CAED,SAASU,EAAEV,EAAGF,EAAGjB,GACf,IAAIhD,EACJ,IAAKA,EAAI,EAAGA,EAAI,GAAIA,IAAKmE,EAAEnE,GAAMiE,EAAEjE,GAAKgD,EAAEhD,GAAI,CAC/C,CAED,SAAS8E,EAAEX,EAAGF,EAAGjB,GACf,IAAIhD,EACJ,IAAKA,EAAI,EAAGA,EAAI,GAAIA,IAAKmE,EAAEnE,GAAMiE,EAAEjE,GAAKgD,EAAEhD,GAAI,CAC/C,CAED,SAAS+E,EAAEZ,EAAGF,EAAGjB,GACf,IAAIhD,EAAGwB,EAAGiB,EAAI,IAAIvC,aAAa,IAC/B,IAAKF,EAAI,EAAGA,EAAI,GAAIA,IAAKyC,EAAEzC,GAAK,EAChC,IAAKA,EAAI,EAAGA,EAAI,GAAIA,IAClB,IAAKwB,EAAI,EAAGA,EAAI,GAAIA,IAClBiB,EAAEzC,EAAEwB,IAAMyC,EAAEjE,GAAKgD,EAAExB,GAGvB,IAAKxB,EAAI,EAAGA,EAAI,GAAIA,IAClByC,EAAEzC,IAAM,GAAKyC,EAAEzC,EAAE,IAEnB,IAAKA,EAAI,EAAGA,EAAI,GAAIA,IAAKmE,EAAEnE,GAAKyC,EAAEzC,GAClCkE,EAASC,GACTD,EAASC,EACV,CAED,SAASa,EAAEb,EAAGF,GACZc,EAAEZ,EAAGF,EAAGA,EACT,CAED,SAASgB,EAASd,EAAGnE,GACnB,IACIiE,EADA9C,EAAIrB,IAER,IAAKmE,EAAI,EAAGA,EAAI,GAAIA,IAAK9C,EAAE8C,GAAKjE,EAAEiE,GAClC,IAAKA,EAAI,IAAKA,GAAK,EAAGA,IACpBe,EAAE7D,EAAGA,GACI,IAAN8C,GAAiB,IAANA,GAASc,EAAE5D,EAAGA,EAAGnB,GAEjC,IAAKiE,EAAI,EAAGA,EAAI,GAAIA,IAAKE,EAAEF,GAAK9C,EAAE8C,EACnC,CAED,SAASiB,EAAQf,EAAGnE,GAClB,IACIiE,EADA9C,EAAIrB,IAER,IAAKmE,EAAI,EAAGA,EAAI,GAAIA,IAAK9C,EAAE8C,GAAKjE,EAAEiE,GAClC,IAAKA,EAAI,IAAKA,GAAK,EAAGA,IAClBe,EAAE7D,EAAGA,GACI,IAAN8C,GAASc,EAAE5D,EAAGA,EAAGnB,GAExB,IAAKiE,EAAI,EAAGA,EAAI,GAAIA,IAAKE,EAAEF,GAAK9C,EAAE8C,EACnC,CAED,SAASkB,EAAkBX,EAAG1C,EAAGyC,GAC/B,IAC8BtE,EAAGD,EAD7BiD,EAAI,IAAI1C,WAAW,IACnBW,EAAI,IAAIhB,aAAa,IACrB+D,EAAInE,IAAMkD,EAAIlD,IAAMqB,EAAIrB,IACxBiC,EAAIjC,IAAMsF,EAAItF,IAAMuF,EAAIvF,IAC5B,IAAKE,EAAI,EAAGA,EAAI,GAAIA,IAAKiD,EAAEjD,GAAK8B,EAAE9B,GAIlC,IAHAiD,EAAE,IAAW,IAANnB,EAAE,IAAS,GAClBmB,EAAE,IAAI,IACN2B,EAAY1D,EAAEqD,GACTvE,EAAI,EAAGA,EAAI,GAAIA,IAClBgD,EAAEhD,GAAGkB,EAAElB,GACP+B,EAAE/B,GAAGiE,EAAEjE,GAAGmB,EAAEnB,GAAG,EAGjB,IADAiE,EAAE,GAAGlC,EAAE,GAAG,EACL/B,EAAE,IAAKA,GAAG,IAAKA,EAElBsE,EAASL,EAAEjB,EADX/C,EAAGgD,EAAEjD,IAAI,MAAQ,EAAFA,GAAM,GAErBsE,EAASnD,EAAEY,EAAE9B,GACb4E,EAAEO,EAAEnB,EAAE9C,GACN2D,EAAEb,EAAEA,EAAE9C,GACN0D,EAAE1D,EAAE6B,EAAEjB,GACN+C,EAAE9B,EAAEA,EAAEjB,GACNiD,EAAEjD,EAAEqD,GACJJ,EAAEK,EAAEpB,GACJc,EAAEd,EAAE9C,EAAE8C,GACNc,EAAE5D,EAAE6B,EAAEoC,GACNP,EAAEO,EAAEnB,EAAE9C,GACN2D,EAAEb,EAAEA,EAAE9C,GACN6D,EAAEhC,EAAEiB,GACJa,EAAE3D,EAAEY,EAAEsD,GACNN,EAAEd,EAAE9C,EAAER,GACNkE,EAAEZ,EAAEA,EAAElC,GACNgD,EAAE5D,EAAEA,EAAE8C,GACNc,EAAEd,EAAElC,EAAEsD,GACNN,EAAEhD,EAAEiB,EAAE9B,GACN8D,EAAEhC,EAAEoC,GACJd,EAASL,EAAEjB,EAAE/C,GACbqE,EAASnD,EAAEY,EAAE9B,GAEf,IAAKD,EAAI,EAAGA,EAAI,GAAIA,IAClBkB,EAAElB,EAAE,IAAIiE,EAAEjE,GACVkB,EAAElB,EAAE,IAAImB,EAAEnB,GACVkB,EAAElB,EAAE,IAAIgD,EAAEhD,GACVkB,EAAElB,EAAE,IAAI+B,EAAE/B,GAEZ,IAAIsF,EAAMpE,EAAEmC,SAAS,IACjBkC,EAAMrE,EAAEmC,SAAS,IAIrB,OAHA4B,EAASK,EAAIA,GACbP,EAAEQ,EAAIA,EAAID,GACVb,EAAUD,EAAEe,GACL,CACR,CAED,SAASC,EAAuBhB,EAAG1C,GACjC,OAAOqD,EAAkBX,EAAG1C,EAAGtB,EAChC,CAED,SAASiF,EAAmB7D,EAAGV,GAE7B,OADAd,EAAYc,EAAG,IACRsE,EAAuB5D,EAAGV,EAClC,CAED,SAASwE,EAAoBrD,EAAGT,EAAGV,GACjC,IAAIkC,EAAI,IAAI7C,WAAW,IAEvB,OADA4E,EAAkB/B,EAAGlC,EAAGU,GACjBe,EAAqBN,EAAG/B,EAAI8C,EAAGR,EACvC,CAED,IAAI+C,GAAqB7B,EACrB8B,GAA0B7B,EAc9B,SAAS8B,KACP,IAA6CnG,EAAGD,EAAGO,EAA/CiE,EAAI,EAAGjB,EAAI,EAAG7B,EAAI,EAAGY,EAAI,EAAG+D,EAAM,MACtC,IAAK9F,EAAI,EAAGA,EAAI+F,UAAU5F,OAAQH,IAGhCiE,IAFAvE,EAAIqG,UAAU/F,GAAGH,IAEPiG,EAAM9C,GAAMtD,IAAM,GAC5ByB,IAFA1B,EAAIsG,UAAU/F,GAAGJ,IAEPkG,EAAM/D,GAAMtC,IAAM,GAO9B,OAAO,IAAID,GAHX2B,IADA6B,GAAMiB,IAAM,MACA,IAGQ6B,GAFpB/D,GAAMZ,IAAM,KAEqB,GAAM8C,EAAI6B,EAAQ9C,GAAK,GACzD,CAED,SAASgD,GAAM9E,EAAGC,GAChB,OAAO,IAAI3B,EAAK0B,EAAEtB,KAAOuB,EAAKD,EAAErB,KAAOsB,EAAMD,EAAEtB,IAAO,GAAKuB,EAC5D,CAED,SAAS8E,KACP,IAAkBjG,EAAdN,EAAI,EAAGD,EAAI,EACf,IAAKO,EAAI,EAAGA,EAAI+F,UAAU5F,OAAQH,IAChCN,GAAKqG,UAAU/F,GAAGH,GAClBJ,GAAKsG,UAAU/F,GAAGJ,GAEpB,OAAO,IAAIJ,EAAIC,EAAGC,EACnB,CAED,SAASwG,GAAEhF,EAAGC,GACZ,IAAI1B,EAAGC,EAAGyG,EAAK,GAAKhF,EAQpB,OAPIA,EAAI,IACN1B,EAAKyB,EAAEtB,KAAOuB,EAAMD,EAAErB,IAAMsG,EAC5BzG,EAAKwB,EAAErB,KAAOsB,EAAMD,EAAEtB,IAAMuG,GACnBhF,EAAI,KACb1B,EAAKyB,EAAErB,KAAOsB,EAAMD,EAAEtB,IAAMuG,EAC5BzG,EAAKwB,EAAEtB,KAAOuB,EAAMD,EAAErB,IAAMsG,GAEvB,IAAI3G,EAAIC,EAAGC,EACnB,CAED,SAAS0G,GAAGlF,EAAGU,EAAGqB,GAChB,IAAIxD,EAAKyB,EAAEtB,GAAKgC,EAAEhC,IAAQsB,EAAEtB,GAAKqD,EAAErD,GAC/BF,EAAKwB,EAAErB,GAAK+B,EAAE/B,IAAQqB,EAAErB,GAAKoD,EAAEpD,GACnC,OAAO,IAAIL,EAAIC,EAAGC,EACnB,CAED,SAAS2G,GAAInF,EAAGU,EAAGqB,GACjB,IAAIxD,EAAKyB,EAAEtB,GAAKgC,EAAEhC,GAAOsB,EAAEtB,GAAKqD,EAAErD,GAAOgC,EAAEhC,GAAKqD,EAAErD,GAC9CF,EAAKwB,EAAErB,GAAK+B,EAAE/B,GAAOqB,EAAErB,GAAKoD,EAAEpD,GAAO+B,EAAE/B,GAAKoD,EAAEpD,GAClD,OAAO,IAAIL,EAAIC,EAAGC,EACnB,CAED,SAAS4G,GAAOpF,GAAK,OAAO+E,GAAMC,GAAEhF,EAAE,IAAKgF,GAAEhF,EAAE,IAAKgF,GAAEhF,EAAE,IAAO,CAC/D,SAASqF,GAAOrF,GAAK,OAAO+E,GAAMC,GAAEhF,EAAE,IAAKgF,GAAEhF,EAAE,IAAKgF,GAAEhF,EAAE,IAAO,CAC/D,SAASsF,GAAOtF,GAAK,OAAO+E,GAAMC,GAAEhF,EAAG,GAAIgF,GAAEhF,EAAG,GAAI8E,GAAM9E,EAAE,GAAM,CAClE,SAASuF,GAAOvF,GAAK,OAAO+E,GAAMC,GAAEhF,EAAE,IAAKgF,GAAEhF,EAAE,IAAK8E,GAAM9E,EAAE,GAAM,CAElE,IAAIwF,GAAI,CACN,IAAIlH,EAAI,WAAY,YAAa,IAAIA,EAAI,WAAY,WACrD,IAAIA,EAAI,WAAY,YAAa,IAAIA,EAAI,WAAY,YACrD,IAAIA,EAAI,UAAY,YAAa,IAAIA,EAAI,WAAY,YACrD,IAAIA,EAAI,WAAY,YAAa,IAAIA,EAAI,WAAY,YACrD,IAAIA,EAAI,WAAY,YAAa,IAAIA,EAAI,UAAY,YACrD,IAAIA,EAAI,UAAY,YAAa,IAAIA,EAAI,WAAY,YACrD,IAAIA,EAAI,WAAY,YAAa,IAAIA,EAAI,WAAY,WACrD,IAAIA,EAAI,WAAY,WAAa,IAAIA,EAAI,WAAY,YACrD,IAAIA,EAAI,WAAY,YAAa,IAAIA,EAAI,WAAY,WACrD,IAAIA,EAAI,UAAY,YAAa,IAAIA,EAAI,UAAY,YACrD,IAAIA,EAAI,UAAY,YAAa,IAAIA,EAAI,WAAY,YACrD,IAAIA,EAAI,WAAY,YAAa,IAAIA,EAAI,WAAY,YACrD,IAAIA,EAAI,WAAY,YAAa,IAAIA,EAAI,WAAY,WACrD,IAAIA,EAAI,WAAY,YAAa,IAAIA,EAAI,WAAY,YACrD,IAAIA,EAAI,WAAY,YAAa,IAAIA,EAAI,WAAY,YACrD,IAAIA,EAAI,UAAY,YAAa,IAAIA,EAAI,UAAY,WACrD,IAAIA,EAAI,UAAY,YAAa,IAAIA,EAAI,UAAY,YACrD,IAAIA,EAAI,WAAY,YAAa,IAAIA,EAAI,WAAY,YACrD,IAAIA,EAAI,WAAY,YAAa,IAAIA,EAAI,WAAY,YACrD,IAAIA,EAAI,WAAY,YAAa,IAAIA,EAAI,WAAY,WACrD,IAAIA,EAAI,WAAY,YAAa,IAAIA,EAAI,WAAY,YACrD,IAAIA,EAAI,WAAY,YAAa,IAAIA,EAAI,WAAY,WACrD,IAAIA,EAAI,WAAY,YAAa,IAAIA,EAAI,WAAY,YACrD,IAAIA,EAAI,WAAY,YAAa,IAAIA,EAAI,UAAY,WACrD,IAAIA,EAAI,UAAY,YAAa,IAAIA,EAAI,UAAY,YACrD,IAAIA,EAAI,UAAY,YAAa,IAAIA,EAAI,UAAY,YACrD,IAAIA,EAAI,UAAY,YAAa,IAAIA,EAAI,WAAY,YACrD,IAAIA,EAAI,WAAY,YAAa,IAAIA,EAAI,WAAY,YACrD,IAAIA,EAAI,WAAY,YAAa,IAAIA,EAAI,WAAY,YACrD,IAAI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"}