var databridges_nacl_wrapper=function(){var r="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};function n(r){var n=r.default;if("function"==typeof n){var e=function(){return n.apply(this,arguments)};e.prototype=n.prototype}else e={};return Object.defineProperty(e,"__esModule",{value:!0}),Object.keys(r).forEach((function(n){var t=Object.getOwnPropertyDescriptor(r,n);Object.defineProperty(e,n,t.get?t:{enumerable:!0,get:function(){return r[n]}})})),e}var e,t={exports:{}},o=n(Object.freeze({__proto__:null,default:{}}));(function(r){var n=function(r,n){this.hi=0|r,this.lo=0|n},e=function(r){var n,e=new Float64Array(16);if(r)for(n=0;n<r.length;n++)e[n]=r[n];return e},t=function(){throw new Error("no PRNG")},i=new Uint8Array(16),a=new Uint8Array(32);a[0]=9;var f=e(),c=e([1]),u=e([56129,1]),w=e([30883,4953,19914,30187,55467,16705,2637,112,59544,30585,16505,36039,65139,11119,27886,20995]),s=e([61785,9906,39828,60374,45398,33411,5274,224,53552,61171,33010,6542,64743,22239,55772,9222]),y=e([54554,36645,11616,51542,42930,38181,51040,26924,56412,64982,57905,49316,21502,52590,14035,8553]),l=e([26200,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214]),h=e([41136,18958,6951,50414,58488,44335,6150,12099,55207,15867,153,11085,57099,20417,9344,11139]);function p(r,n){return r<<n|r>>>32-n}function g(r,n){var e=255&r[n+3];return(e=(e=e<<8|255&r[n+2])<<8|255&r[n+1])<<8|255&r[n+0]}function v(r,e){var t=r[e]<<24|r[e+1]<<16|r[e+2]<<8|r[e+3],o=r[e+4]<<24|r[e+5]<<16|r[e+6]<<8|r[e+7];return new n(t,o)}function d(r,n,e){var t;for(t=0;t<4;t++)r[n+t]=255&e,e>>>=8}function b(r,n,e){r[n]=e.hi>>24&255,r[n+1]=e.hi>>16&255,r[n+2]=e.hi>>8&255,r[n+3]=255&e.hi,r[n+4]=e.lo>>24&255,r[n+5]=e.lo>>16&255,r[n+6]=e.lo>>8&255,r[n+7]=255&e.lo}function A(r,n,e,t,o){var i,a=0;for(i=0;i<o;i++)a|=r[n+i]^e[t+i];return(1&a-1>>>8)-1}function _(r,n,e,t){return A(r,n,e,t,16)}function U(r,n,e,t){return A(r,n,e,t,32)}function E(r,n,e,t,o){var i,a,f,c=new Uint32Array(16),u=new Uint32Array(16),w=new Uint32Array(16),s=new Uint32Array(4);for(i=0;i<4;i++)u[5*i]=g(t,4*i),u[1+i]=g(e,4*i),u[6+i]=g(n,4*i),u[11+i]=g(e,16+4*i);for(i=0;i<16;i++)w[i]=u[i];for(i=0;i<20;i++){for(a=0;a<4;a++){for(f=0;f<4;f++)s[f]=u[(5*a+4*f)%16];for(s[1]^=p(s[0]+s[3]|0,7),s[2]^=p(s[1]+s[0]|0,9),s[3]^=p(s[2]+s[1]|0,13),s[0]^=p(s[3]+s[2]|0,18),f=0;f<4;f++)c[4*a+(a+f)%4]=s[f]}for(f=0;f<16;f++)u[f]=c[f]}if(o){for(i=0;i<16;i++)u[i]=u[i]+w[i]|0;for(i=0;i<4;i++)u[5*i]=u[5*i]-g(t,4*i)|0,u[6+i]=u[6+i]-g(n,4*i)|0;for(i=0;i<4;i++)d(r,4*i,u[5*i]),d(r,16+4*i,u[6+i])}else for(i=0;i<16;i++)d(r,4*i,u[i]+w[i]|0)}function x(r,n,e,t){return E(r,n,e,t,!1),0}function B(r,n,e,t){return E(r,n,e,t,!0),0}var T=new Uint8Array([101,120,112,97,110,100,32,51,50,45,98,121,116,101,32,107]);function m(r,n,e,t,o,i,a){var f,c,u=new Uint8Array(16),w=new Uint8Array(64);if(!o)return 0;for(c=0;c<16;c++)u[c]=0;for(c=0;c<8;c++)u[c]=i[c];for(;o>=64;){for(x(w,u,a,T),c=0;c<64;c++)r[n+c]=(e?e[t+c]:0)^w[c];for(f=1,c=8;c<16;c++)f=f+(255&u[c])|0,u[c]=255&f,f>>>=8;o-=64,n+=64,e&&(t+=64)}if(o>0)for(x(w,u,a,T),c=0;c<o;c++)r[n+c]=(e?e[t+c]:0)^w[c];return 0}function L(r,n,e,t,o){return m(r,n,null,0,e,t,o)}function S(r,n,e,t,o){var i=new Uint8Array(32);return B(i,t,o,T),L(r,n,e,t.subarray(16),i)}function C(r,n,e,t,o,i,a){var f=new Uint8Array(32);return B(f,i,a,T),m(r,n,e,t,o,i.subarray(16),f)}function Y(r,n){var e,t=0;for(e=0;e<17;e++)t=t+(r[e]+n[e]|0)|0,r[e]=255&t,t>>>=8}var K=new Uint32Array([5,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,252]);function R(r,n,e,t,o,i){var a,f,c,u,w=new Uint32Array(17),s=new Uint32Array(17),y=new Uint32Array(17),l=new Uint32Array(17),h=new Uint32Array(17);for(c=0;c<17;c++)s[c]=y[c]=0;for(c=0;c<16;c++)s[c]=i[c];for(s[3]&=15,s[4]&=252,s[7]&=15,s[8]&=252,s[11]&=15,s[12]&=252,s[15]&=15;o>0;){for(c=0;c<17;c++)l[c]=0;for(c=0;c<16&&c<o;++c)l[c]=e[t+c];for(l[c]=1,t+=c,o-=c,Y(y,l),f=0;f<17;f++)for(w[f]=0,c=0;c<17;c++)w[f]=0|w[f]+y[c]*(c<=f?s[f-c]:320*s[f+17-c]|0);for(f=0;f<17;f++)y[f]=w[f];for(u=0,c=0;c<16;c++)u=u+y[c]|0,y[c]=255&u,u>>>=8;for(u=u+y[16]|0,y[16]=3&u,u=5*(u>>>2)|0,c=0;c<16;c++)u=u+y[c]|0,y[c]=255&u,u>>>=8;u=u+y[16]|0,y[16]=u}for(c=0;c<17;c++)h[c]=y[c];for(Y(y,K),a=0|-(y[16]>>>7),c=0;c<17;c++)y[c]^=a&(h[c]^y[c]);for(c=0;c<16;c++)l[c]=i[c+16];for(l[16]=0,Y(y,l),c=0;c<16;c++)r[n+c]=y[c];return 0}function k(r,n,e,t,o,i){var a=new Uint8Array(16);return R(a,0,e,t,o,i),_(r,n,a,0)}function N(r,n,e,t,o){var i;if(e<32)return-1;for(C(r,0,n,0,e,t,o),R(r,16,r,32,e-32,r),i=0;i<16;i++)r[i]=0;return 0}function z(r,n,e,t,o){var i,a=new Uint8Array(32);if(e<32)return-1;if(S(a,0,32,t,o),0!==k(n,16,n,32,e-32,a))return-1;for(C(r,0,n,0,e,t,o),i=0;i<32;i++)r[i]=0;return 0}function P(r,n){var e;for(e=0;e<16;e++)r[e]=0|n[e]}function I(r){var n,e;for(e=0;e<16;e++)r[e]+=65536,n=Math.floor(r[e]/65536),r[(e+1)*(e<15?1:0)]+=n-1+37*(n-1)*(15===e?1:0),r[e]-=65536*n}function O(r,n,e){for(var t,o=~(e-1),i=0;i<16;i++)t=o&(r[i]^n[i]),r[i]^=t,n[i]^=t}function D(r,n){var t,o,i,a=e(),f=e();for(t=0;t<16;t++)f[t]=n[t];for(I(f),I(f),I(f),o=0;o<2;o++){for(a[0]=f[0]-65517,t=1;t<15;t++)a[t]=f[t]-65535-(a[t-1]>>16&1),a[t-1]&=65535;a[15]=f[15]-32767-(a[14]>>16&1),i=a[15]>>16&1,a[14]&=65535,O(f,a,1-i)}for(t=0;t<16;t++)r[2*t]=255&f[t],r[2*t+1]=f[t]>>8}function F(r,n){var e=new Uint8Array(32),t=new Uint8Array(32);return D(e,r),D(t,n),U(e,0,t,0)}function M(r){var n=new Uint8Array(32);return D(n,r),1&n[0]}function Z(r,n){var e;for(e=0;e<16;e++)r[e]=n[2*e]+(n[2*e+1]<<8);r[15]&=32767}function j(r,n,e){var t;for(t=0;t<16;t++)r[t]=n[t]+e[t]|0}function V(r,n,e){var t;for(t=0;t<16;t++)r[t]=n[t]-e[t]|0}function G(r,n,e){var t,o,i=new Float64Array(31);for(t=0;t<31;t++)i[t]=0;for(t=0;t<16;t++)for(o=0;o<16;o++)i[t+o]+=n[t]*e[o];for(t=0;t<15;t++)i[t]+=38*i[t+16];for(t=0;t<16;t++)r[t]=i[t];I(r),I(r)}function X(r,n){G(r,n,n)}function W(r,n){var t,o=e();for(t=0;t<16;t++)o[t]=n[t];for(t=253;t>=0;t--)X(o,o),2!==t&&4!==t&&G(o,o,n);for(t=0;t<16;t++)r[t]=o[t]}function $(r,n){var t,o=e();for(t=0;t<16;t++)o[t]=n[t];for(t=250;t>=0;t--)X(o,o),1!==t&&G(o,o,n);for(t=0;t<16;t++)r[t]=o[t]}function q(r,n,t){var o,i,a=new Uint8Array(32),f=new Float64Array(80),c=e(),w=e(),s=e(),y=e(),l=e(),h=e();for(i=0;i<31;i++)a[i]=n[i];for(a[31]=127&n[31]|64,a[0]&=248,Z(f,t),i=0;i<16;i++)w[i]=f[i],y[i]=c[i]=s[i]=0;for(c[0]=y[0]=1,i=254;i>=0;--i)O(c,w,o=a[i>>>3]>>>(7&i)&1),O(s,y,o),j(l,c,s),V(c,c,s),j(s,w,y),V(w,w,y),X(y,l),X(h,c),G(c,s,c),G(s,w,l),j(l,c,s),V(c,c,s),X(w,c),V(s,y,h),G(c,s,u),j(c,c,y),G(s,s,c),G(c,y,h),G(y,w,f),X(w,l),O(c,w,o),O(s,y,o);for(i=0;i<16;i++)f[i+16]=c[i],f[i+32]=s[i],f[i+48]=w[i],f[i+64]=y[i];var p=f.subarray(32),g=f.subarray(16);return W(p,p),G(g,g,p),D(r,g),0}function H(r,n){return q(r,n,a)}function J(r,n){return t(n,32),H(r,n)}function Q(r,n,e){var t=new Uint8Array(32);return q(t,e,n),B(r,i,t,T)}var rr=N,nr=z;function er(){var r,e,t,o=0,i=0,a=0,f=0,c=65535;for(t=0;t<arguments.length;t++)o+=(r=arguments[t].lo)&c,i+=r>>>16,a+=(e=arguments[t].hi)&c,f+=e>>>16;return new n((a+=(i+=o>>>16)>>>16)&c|(f+=a>>>16)<<16,o&c|i<<16)}function tr(r,e){return new n(r.hi>>>e,r.lo>>>e|r.hi<<32-e)}function or(){var r,e=0,t=0;for(r=0;r<arguments.length;r++)e^=arguments[r].lo,t^=arguments[r].hi;return new n(t,e)}function ir(r,e){var t,o,i=32-e;return e<32?(t=r.hi>>>e|r.lo<<i,o=r.lo>>>e|r.hi<<i):e<64&&(t=r.lo>>>e|r.hi<<i,o=r.hi>>>e|r.lo<<i),new n(t,o)}function ar(r,e,t){var o=r.hi&e.hi^~r.hi&t.hi,i=r.lo&e.lo^~r.lo&t.lo;return new n(o,i)}function fr(r,e,t){var o=r.hi&e.hi^r.hi&t.hi^e.hi&t.hi,i=r.lo&e.lo^r.lo&t.lo^e.lo&t.lo;return new n(o,i)}function cr(r){return or(ir(r,28),ir(r,34),ir(r,39))}function ur(r){return or(ir(r,14),ir(r,18),ir(r,41))}function wr(r){return or(ir(r,1),ir(r,8),tr(r,7))}function sr(r){return or(ir(r,19),ir(r,61),tr(r,6))}var yr=[new n(1116352408,3609767458),new n(1899447441,602891725),new n(3049323471,3964484399),new n(3921009573,2173295548),new n(961987163,4081628472),new n(1508970993,3053834265),new n(2453635748,2937671579),new n(2870763221,3664609560),new n(3624381080,2734883394),new n(310598401,1164996542),new n(607225278,1323610764),new n(1426881987,3590304994),new n(1925078388,4068182383),new n(2162078206,991336113),new n(2614888103,633803317),new n(3248222580,3479774868),new n(3835390401,2666613458),new n(4022224774,944711139),new n(264347078,2341262773),new n(604807628,2007800933),new n(770255983,1495990901),new n(1249150122,1856431235),new n(1555081692,3175218132),new n(1996064986,2198950837),new n(2554220882,3999719339),new n(2821834349,766784016),new n(2952996808,2566594879),new n(3210313671,3203337956),new n(3336571891,1034457026),new n(3584528711,2466948901),new n(113926993,3758326383),new n(338241895,168717936),new n(666307205,1188179964),new n(773529912,1546045734),new n(1294757372,1522805485),new n(1396182291,2643833823),new n(1695183700,2343527390),new n(1986661051,1014477480),new n(2177026350,1206759142),new n(2456956037,344077627),new n(2730485921,1290863460),new n(2820302411,3158454273),new n(3259730800,3505952657),new n(3345764771,106217008),new n(3516065817,3606008344),new n(3600352804,1432725776),new n(4094571909,1467031594),new n(275423344,851169720),new n(430227734,3100823752),new n(506948616,1363258195),new n(659060556,3750685593),new n(883997877,3785050280),new n(958139571,3318307427),new n(1322822218,3812723403),new n(1537002063,2003034995),new n(1747873779,3602036899),new n(1955562222,1575990012),new n(2024104815,1125592928),new n(2227730452,2716904306),new n(2361852424,442776044),new n(2428436474,593698344),new n(2756734187,3733110249),new n(3204031479,2999351573),new n(3329325298,3815920427),new n(3391569614,3928383900),new n(3515267271,566280711),new n(3940187606,3454069534),new n(4118630271,4000239992),new n(116418474,1914138554),new n(174292421,2731055270),new n(289380356,3203993006),new n(460393269,320620315),new n(685471733,587496836),new n(852142971,1086792851),new n(1017036298,365543100),new n(1126000580,2618297676),new n(1288033470,3409855158),new n(1501505948,4234509866),new n(1607167915,987167468),new n(1816402316,1246189591)];function lr(r,n,e){var t,o,i,a=[],f=[],c=[],u=[];for(o=0;o<8;o++)a[o]=c[o]=v(r,8*o);for(var w=0;e>=128;){for(o=0;o<16;o++)u[o]=v(n,8*o+w);for(o=0;o<80;o++){for(i=0;i<8;i++)f[i]=c[i];for(t=er(c[7],ur(c[4]),ar(c[4],c[5],c[6]),yr[o],u[o%16]),f[7]=er(t,cr(c[0]),fr(c[0],c[1],c[2])),f[3]=er(f[3],t),i=0;i<8;i++)c[(i+1)%8]=f[i];if(o%16==15)for(i=0;i<16;i++)u[i]=er(u[i],u[(i+9)%16],wr(u[(i+1)%16]),sr(u[(i+14)%16]))}for(o=0;o<8;o++)c[o]=er(c[o],a[o]),a[o]=c[o];w+=128,e-=128}for(o=0;o<8;o++)b(r,8*o,a[o]);return e}var hr=new Uint8Array([106,9,230,103,243,188,201,8,187,103,174,133,132,202,167,59,60,110,243,114,254,148,248,43,165,79,245,58,95,29,54,241,81,14,82,127,173,230,130,209,155,5,104,140,43,62,108,31,31,131,217,171,251,65,189,107,91,224,205,25,19,126,33,121]);function pr(r,e,t){var o,i=new Uint8Array(64),a=new Uint8Array(256),f=t;for(o=0;o<64;o++)i[o]=hr[o];for(lr(i,e,t),t%=128,o=0;o<256;o++)a[o]=0;for(o=0;o<t;o++)a[o]=e[f-t+o];for(a[t]=128,a[(t=256-128*(t<112?1:0))-9]=0,b(a,t-8,new n(f/536870912|0,f<<3)),lr(i,a,t),o=0;o<64;o++)r[o]=i[o];return 0}function gr(r,n){var t=e(),o=e(),i=e(),a=e(),f=e(),c=e(),u=e(),w=e(),y=e();V(t,r[1],r[0]),V(y,n[1],n[0]),G(t,t,y),j(o,r[0],r[1]),j(y,n[0],n[1]),G(o,o,y),G(i,r[3],n[3]),G(i,i,s),G(a,r[2],n[2]),j(a,a,a),V(f,o,t),V(c,a,i),j(u,a,i),j(w,o,t),G(r[0],f,c),G(r[1],w,u),G(r[2],u,c),G(r[3],f,w)}function vr(r,n,e){var t;for(t=0;t<4;t++)O(r[t],n[t],e)}function dr(r,n){var t=e(),o=e(),i=e();W(i,n[2]),G(t,n[0],i),G(o,n[1],i),D(r,o),r[31]^=M(t)<<7}function br(r,n,e){var t,o;for(P(r[0],f),P(r[1],c),P(r[2],c),P(r[3],f),o=255;o>=0;--o)vr(r,n,t=e[o/8|0]>>(7&o)&1),gr(n,r),gr(r,r),vr(r,n,t)}function Ar(r,n){var t=[e(),e(),e(),e()];P(t[0],y),P(t[1],l),P(t[2],c),G(t[3],y,l),br(r,t,n)}function _r(r,n,o){var i,a=new Uint8Array(64),f=[e(),e(),e(),e()];for(o||t(n,32),pr(a,n,32),a[0]&=248,a[31]&=127,a[31]|=64,Ar(f,a),dr(r,f),i=0;i<32;i++)n[i+32]=r[i];return 0}var Ur=new Float64Array([237,211,245,92,26,99,18,88,214,156,247,162,222,249,222,20,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,16]);function Er(r,n){var e,t,o,i;for(t=63;t>=32;--t){for(e=0,o=t-32,i=t-12;o<i;++o)n[o]+=e-16*n[t]*Ur[o-(t-32)],e=Math.floor((n[o]+128)/256),n[o]-=256*e;n[o]+=e,n[t]=0}for(e=0,o=0;o<32;o++)n[o]+=e-(n[31]>>4)*Ur[o],e=n[o]>>8,n[o]&=255;for(o=0;o<32;o++)n[o]-=e*Ur[o];for(t=0;t<32;t++)n[t+1]+=n[t]>>8,r[t]=255&n[t]}function xr(r){var n,e=new Float64Array(64);for(n=0;n<64;n++)e[n]=r[n];for(n=0;n<64;n++)r[n]=0;Er(r,e)}function Br(r,n,t,o){var i,a,f=new Uint8Array(64),c=new Uint8Array(64),u=new Uint8Array(64),w=new Float64Array(64),s=[e(),e(),e(),e()];pr(f,o,32),f[0]&=248,f[31]&=127,f[31]|=64;var y=t+64;for(i=0;i<t;i++)r[64+i]=n[i];for(i=0;i<32;i++)r[32+i]=f[32+i];for(pr(u,r.subarray(32),t+32),xr(u),Ar(s,u),dr(r,s),i=32;i<64;i++)r[i]=o[i];for(pr(c,r,t+64),xr(c),i=0;i<64;i++)w[i]=0;for(i=0;i<32;i++)w[i]=u[i];for(i=0;i<32;i++)for(a=0;a<32;a++)w[i+a]+=c[i]*f[a];return Er(r.subarray(32),w),y}function Tr(r,n,t,o){var i,a=new Uint8Array(32),u=new Uint8Array(64),s=[e(),e(),e(),e()],y=[e(),e(),e(),e()];if(t<64)return-1;if(function(r,n){var t=e(),o=e(),i=e(),a=e(),u=e(),s=e(),y=e();return P(r[2],c),Z(r[1],n),X(i,r[1]),G(a,i,w),V(i,i,r[2]),j(a,r[2],a),X(u,a),X(s,u),G(y,s,u),G(t,y,i),G(t,t,a),$(t,t),G(t,t,i),G(t,t,a),G(t,t,a),G(r[0],t,a),X(o,r[0]),G(o,o,a),F(o,i)&&G(r[0],r[0],h),X(o,r[0]),G(o,o,a),F(o,i)?-1:(M(r[0])===n[31]>>7&&V(r[0],f,r[0]),G(r[3],r[0],r[1]),0)}(y,o))return-1;for(i=0;i<t;i++)r[i]=n[i];for(i=0;i<32;i++)r[i+32]=o[i];if(pr(u,r,t),xr(u),br(s,y,u),Ar(y,n.subarray(32)),gr(s,y),dr(a,s),t-=64,U(n,0,a,0)){for(i=0;i<t;i++)r[i]=0;return-1}for(i=0;i<t;i++)r[i]=n[i+64];return t}var mr,Lr=16,Sr=64,Cr=32,Yr=64;function Kr(r,n){if(32!==r.length)throw new Error("bad key size");if(24!==n.length)throw new Error("bad nonce size")}function Rr(){for(var r=0;r<arguments.length;r++)if(!(arguments[r]instanceof Uint8Array))throw new TypeError("unexpected type, use Uint8Array")}function kr(r){for(var n=0;n<r.length;n++)r[n]=0}r.lowlevel={crypto_core_hsalsa20:B,crypto_stream_xor:C,crypto_stream:S,crypto_stream_salsa20_xor:m,crypto_stream_salsa20:L,crypto_onetimeauth:R,crypto_onetimeauth_verify:k,crypto_verify_16:_,crypto_verify_32:U,crypto_secretbox:N,crypto_secretbox_open:z,crypto_scalarmult:q,crypto_scalarmult_base:H,crypto_box_beforenm:Q,crypto_box_afternm:rr,crypto_box:function(r,n,e,t,o,i){var a=new Uint8Array(32);return Q(a,o,i),rr(r,n,e,t,a)},crypto_box_open:function(r,n,e,t,o,i){var a=new Uint8Array(32);return Q(a,o,i),nr(r,n,e,t,a)},crypto_box_keypair:J,crypto_hash:pr,crypto_sign:Br,crypto_sign_keypair:_r,crypto_sign_open:Tr,crypto_secretbox_KEYBYTES:32,crypto_secretbox_NONCEBYTES:24,crypto_secretbox_ZEROBYTES:32,crypto_secretbox_BOXZEROBYTES:Lr,crypto_scalarmult_BYTES:32,crypto_scalarmult_SCALARBYTES:32,crypto_box_PUBLICKEYBYTES:32,crypto_box_SECRETKEYBYTES:32,crypto_box_BEFORENMBYTES:32,crypto_box_NONCEBYTES:24,crypto_box_ZEROBYTES:32,crypto_box_BOXZEROBYTES:16,crypto_sign_BYTES:Sr,crypto_sign_PUBLICKEYBYTES:Cr,crypto_sign_SECRETKEYBYTES:Yr,crypto_sign_SEEDBYTES:32,crypto_hash_BYTES:64,gf:e,D:w,L:Ur,pack25519:D,unpack25519:Z,M:G,A:j,S:X,Z:V,pow2523:$,add:gr,set25519:P,modL:Er,scalarmult:br,scalarbase:Ar},r.randomBytes=function(r){var n=new Uint8Array(r);return t(n,r),n},r.secretbox=function(r,n,e){Rr(r,n,e),Kr(e,n);for(var t=new Uint8Array(32+r.length),o=new Uint8Array(t.length),i=0;i<r.length;i++)t[i+32]=r[i];return N(o,t,t.length,n,e),o.subarray(Lr)},r.secretbox.open=function(r,n,e){Rr(r,n,e),Kr(e,n);for(var t=new Uint8Array(Lr+r.length),o=new Uint8Array(t.length),i=0;i<r.length;i++)t[i+Lr]=r[i];return t.length<32||0!==z(o,t,t.length,n,e)?null:o.subarray(32)},r.secretbox.keyLength=32,r.secretbox.nonceLength=24,r.secretbox.overheadLength=Lr,r.scalarMult=function(r,n){if(Rr(r,n),32!==r.length)throw new Error("bad n size");if(32!==n.length)throw new Error("bad p size");var e=new Uint8Array(32);return q(e,r,n),e},r.scalarMult.base=function(r){if(Rr(r),32!==r.length)throw new Error("bad n size");var n=new Uint8Array(32);return H(n,r),n},r.scalarMult.scalarLength=32,r.scalarMult.groupElementLength=32,r.box=function(n,e,t,o){var i=r.box.before(t,o);return r.secretbox(n,e,i)},r.box.before=function(r,n){Rr(r,n),function(r,n){if(32!==r.length)throw new Error("bad public key size");if(32!==n.length)throw new Error("bad secret key size")}(r,n);var e=new Uint8Array(32);return Q(e,r,n),e},r.box.after=r.secretbox,r.box.open=function(n,e,t,o){var i=r.box.before(t,o);return r.secretbox.open(n,e,i)},r.box.open.after=r.secretbox.open,r.box.keyPair=function(){var r=new Uint8Array(32),n=new Uint8Array(32);return J(r,n),{publicKey:r,secretKey:n}},r.box.keyPair.fromSecretKey=function(r){if(Rr(r),32!==r.length)throw new Error("bad secret key size");var n=new Uint8Array(32);return H(n,r),{publicKey:n,secretKey:new Uint8Array(r)}},r.box.publicKeyLength=32,r.box.secretKeyLength=32,r.box.sharedKeyLength=32,r.box.nonceLength=24,r.box.overheadLength=r.secretbox.overheadLength,r.sign=function(r,n){if(Rr(r,n),n.length!==Yr)throw new Error("bad secret key size");var e=new Uint8Array(Sr+r.length);return Br(e,r,r.length,n),e},r.sign.open=function(r,n){if(Rr(r,n),n.length!==Cr)throw new Error("bad public key size");var e=new Uint8Array(r.length),t=Tr(e,r,r.length,n);if(t<0)return null;for(var o=new Uint8Array(t),i=0;i<o.length;i++)o[i]=e[i];return o},r.sign.detached=function(n,e){for(var t=r.sign(n,e),o=new Uint8Array(Sr),i=0;i<o.length;i++)o[i]=t[i];return o},r.sign.detached.verify=function(r,n,e){if(Rr(r,n,e),n.length!==Sr)throw new Error("bad signature size");if(e.length!==Cr)throw new Error("bad public key size");var t,o=new Uint8Array(Sr+r.length),i=new Uint8Array(Sr+r.length);for(t=0;t<Sr;t++)o[t]=n[t];for(t=0;t<r.length;t++)o[t+Sr]=r[t];return Tr(i,o,o.length,e)>=0},r.sign.keyPair=function(){var r=new Uint8Array(Cr),n=new Uint8Array(Yr);return _r(r,n),{publicKey:r,secretKey:n}},r.sign.keyPair.fromSecretKey=function(r){if(Rr(r),r.length!==Yr)throw new Error("bad secret key size");for(var n=new Uint8Array(Cr),e=0;e<n.length;e++)n[e]=r[32+e];return{publicKey:n,secretKey:new Uint8Array(r)}},r.sign.keyPair.fromSeed=function(r){if(Rr(r),32!==r.length)throw new Error("bad seed size");for(var n=new Uint8Array(Cr),e=new Uint8Array(Yr),t=0;t<32;t++)e[t]=r[t];return _r(n,e,!0),{publicKey:n,secretKey:e}},r.sign.publicKeyLength=Cr,r.sign.secretKeyLength=Yr,r.sign.seedLength=32,r.sign.signatureLength=Sr,r.hash=function(r){Rr(r);var n=new Uint8Array(64);return pr(n,r,r.length),n},r.hash.hashLength=64,r.verify=function(r,n){return Rr(r,n),0!==r.length&&0!==n.length&&r.length===n.length&&0===A(r,0,n,0,r.length)},r.setPRNG=function(r){t=r},(mr="undefined"!=typeof self?self.crypto||self.msCrypto:null)&&mr.getRandomValues?r.setPRNG((function(r,n){var e,t=new Uint8Array(n);for(e=0;e<n;e+=65536)mr.getRandomValues(t.subarray(e,e+Math.min(n-e,65536)));for(e=0;e<n;e++)r[e]=t[e];kr(t)})):(mr=o)&&mr.randomBytes&&r.setPRNG((function(r,n){var e,t=mr.randomBytes(n);for(e=0;e<n;e++)r[e]=t[e];kr(t)}))})((e=t).exports?e.exports:self.nacl=self.nacl||{});var i={exports:{}};!function(n){var e,t;e=r,t=function(){var r={};function n(r){if(!/^(?:[A-Za-z0-9+\/]{2}[A-Za-z0-9+\/]{2})*(?:[A-Za-z0-9+\/]{2}==|[A-Za-z0-9+\/]{3}=)?$/.test(r))throw new TypeError("invalid encoding")}return r.decodeUTF8=function(r){if("string"!=typeof r)throw new TypeError("expected string");var n,e=unescape(encodeURIComponent(r)),t=new Uint8Array(e.length);for(n=0;n<e.length;n++)t[n]=e.charCodeAt(n);return t},r.encodeUTF8=function(r){var n,e=[];for(n=0;n<r.length;n++)e.push(String.fromCharCode(r[n]));return decodeURIComponent(escape(e.join("")))},"undefined"==typeof atob?void 0!==Buffer.from?(r.encodeBase64=function(r){return Buffer.from(r).toString("base64")},r.decodeBase64=function(r){return n(r),new Uint8Array(Array.prototype.slice.call(Buffer.from(r,"base64"),0))}):(r.encodeBase64=function(r){return new Buffer(r).toString("base64")},r.decodeBase64=function(r){return n(r),new Uint8Array(Array.prototype.slice.call(new Buffer(r,"base64"),0))}):(r.encodeBase64=function(r){var n,e=[],t=r.length;for(n=0;n<t;n++)e.push(String.fromCharCode(r[n]));return btoa(e.join(""))},r.decodeBase64=function(r){n(r);var e,t=atob(r),o=new Uint8Array(t.length);for(e=0;e<t.length;e++)o[e]=t.charCodeAt(e);return o}),r},n.exports?n.exports=t():(e.nacl||(e.nacl={}),e.nacl.util=t())}(i);const a=t.exports;a.util=i.exports;class f extends Error{constructor(r,n){super(r,n),this.source="DBLIB_NACL_WRAPPER",this.code=r,this.message=n,Error.captureStackTrace(this,this.constructor)}}return class{constructor(){this.secret=void 0}write(r){if(!this.secret)throw new f("INVALID_SECRET","");if(!r)throw new f("INVALID_DATA","");try{const n=a.util.decodeUTF8(this.secret),e=a.randomBytes(24),t=a.util.decodeUTF8(r),o=a.secretbox(t,e,n);return a.util.encodeBase64(e)+":"+a.util.encodeBase64(o)}catch(r){throw new f("NACL_EXCEPTION",r.message)}}read(r){if(!this.secret)throw new f("INVALID_SECRET","");if(!r)throw new f("INVALID_DATA","");if(!r.includes(":"))throw new f("INVALID_DATA","");try{const n=a.util.decodeUTF8(this.secret);let e=r.split(":"),t=a.util.decodeBase64(e[0]);e=a.util.decodeBase64(e[1]);const o=a.secretbox.open(e,t,n);if(o){return a.util.encodeUTF8(o)}throw new f("NACL_DECRYPT_FAILED","Decryption failed, either data is encrypted with different secret or data is manipulated.")}catch(r){throw new f("NACL_EXCEPTION",r.message)}}}}();
//# sourceMappingURL=databridges.nacl.wrapper.min.js.map
